<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3GPP TDoc Tracker</title>
    <style>
:root{--primary-color: #0066cc;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8;--light-gray: #f8f9fa;--border-color: #dee2e6;--text-color: #333}*{box-sizing:border-box}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:14px;line-height:1.4;color:var(--text-color);background-color:#fff}.app-container{display:flex;height:100vh;overflow:hidden}.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0}.sidebar{width:min(280px,25vw);min-width:250px;border-left:1px solid var(--border-color);background-color:var(--light-gray);overflow-y:auto}@media (max-width: 1200px){.sidebar{width:min(260px,22vw);min-width:220px}}@media (max-width: 900px){.sidebar{position:fixed;top:0;right:-300px;height:100vh;width:300px;min-width:300px;z-index:1001;background:#fff;box-shadow:-2px 0 5px #0000001a;transition:right .3s ease;border-left:1px solid var(--border-color);overflow-y:auto}.sidebar.visible{right:0}.sidebar-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1000}.hamburger-btn{display:block!important}}.toolbar{padding:12px;border-bottom:1px solid var(--border-color);background-color:#fff;display:flex;flex-direction:column;gap:8px}.action-row{display:flex;justify-content:space-between;align-items:center;gap:8px;min-height:40px}.action-left{display:flex;align-items:center;gap:8px;flex-wrap:nowrap}.filter-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap;padding-top:8px;border-top:1px solid #eee}.separator{width:1px;height:20px;background:#ddd;margin:0 8px}.hamburger-btn{display:none;font-size:16px;font-weight:700}@media (max-width: 1200px){.toolbar{gap:6px;padding:10px}}@media (max-width: 900px){.toolbar{gap:4px;padding:8px;justify-content:space-between}}@media (max-width: 600px){.toolbar{flex-direction:column;align-items:stretch;gap:8px}.toolbar>div{display:flex;flex-wrap:wrap;gap:4px;justify-content:center}.filter-group{flex-direction:column;align-items:flex-start;margin:4px 0}.filter-label{margin-bottom:4px}}.btn{padding:6px 12px;border:1px solid var(--border-color);border-radius:4px;background:#fff;cursor:pointer;font-size:12px;transition:all .2s}.btn:hover{background-color:var(--light-gray)}.btn:disabled{opacity:.6;cursor:not-allowed}.btn-approved,.btn-agreed,.btn-noted,.btn-revised{background-color:var(--success-color);color:#fff;border-color:var(--success-color)}.btn-postponed{background-color:var(--warning-color);color:#fff;border-color:var(--warning-color)}.btn-not-pursued{background-color:var(--danger-color);color:#fff;border-color:var(--danger-color)}.btn-save-needed{background-color:#007bff;color:#fff;border-color:#007bff;animation:pulse 2s infinite}.btn-save-clean{background-color:#28a745;color:#fff;border-color:#28a745}.save-status{font-size:12px;color:#666;margin-left:8px;font-style:italic}@keyframes pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.filter-group{display:flex;align-items:center;gap:4px;margin:0 8px}.filter-label{font-size:11px;font-weight:600;color:#666;margin-right:4px}.filter-btn{padding:4px 8px;font-size:11px;border:1px solid #ddd;background:#fff;border-radius:3px;cursor:pointer;transition:all .2s}.filter-btn:hover{background-color:#f0f0f0}.filter-btn.active{background-color:var(--primary-color);color:#fff;border-color:var(--primary-color)}.table-container{flex:1;overflow:auto;padding:0;width:100%}.data-table{width:100%;min-width:1200px;border-collapse:collapse;font-size:12px;margin:0}.data-table th,.data-table td{border:1px solid var(--border-color);padding:4px 6px;text-align:left;vertical-align:top;word-wrap:break-word;overflow-wrap:break-word}@media (max-width: 1400px){.data-table{min-width:1000px;font-size:11px}.data-table th,.data-table td{padding:3px 4px}}@media (max-width: 1000px){.data-table{min-width:800px;font-size:10px}.data-table th,.data-table td{padding:2px 3px}}.data-table th:nth-child(1),.data-table td:nth-child(1){min-width:100px}.data-table th:nth-child(2),.data-table td:nth-child(2){min-width:200px;max-width:300px}.data-table th:nth-child(9),.data-table td:nth-child(9){min-width:80px;max-width:120px;text-align:center}.data-table th:nth-child(10),.data-table td:nth-child(10){min-width:150px;max-width:250px}.data-table th{background-color:var(--light-gray);font-weight:600;position:sticky;top:0;z-index:12}.section-header{background-color:#e9ecef!important;font-weight:700;font-size:14px;border-top:2px solid #333!important;border-bottom:1px solid #333!important;position:sticky;z-index:11}.section-header td{padding:8px 6px!important;color:#333;background-color:#e9ecef!important}.section-header:hover{background-color:#e9ecef!important}.data-table tr:hover:not(.section-header):not(.selected){box-shadow:inset 0 0 0 2px #06c}.data-table tbody tr.row-selected{outline:3px solid #0066cc!important;outline-offset:-3px!important;position:relative;z-index:20}.data-table tbody tr.row-selected:hover{outline:3px solid #004499!important}.data-table tbody tr.row-selected .treated-cell{position:static;z-index:auto}.data-table tbody tr.row-selected .my-comments-cell{position:relative;z-index:1}.data-table tbody tr.row-selected .my-comments-cell.editable-cell{z-index:1}.data-table tbody tr.row-selected .my-comments-cell.editable-cell:focus{z-index:1}.data-table tr.original-green{background-color:#7fe000}.data-table tr.original-yellow{background-color:#ffe500}.data-table tr.original-orange{background-color:#ff6b33}.data-table tr.approved,.data-table tr.agreed,.data-table tr.noted,.data-table tr.revised{background-color:#7fe000!important}.data-table tr.postponed,.data-table tr.not-pursued{background-color:#ffe500!important}.editable-cell{cursor:text;min-height:20px}.editable-cell:focus{outline:2px solid var(--primary-color);outline-offset:-2px}.my-approval-cell,.my-comments-cell{border-left:2px solid #ddd!important}.my-approval-cell{text-align:center;font-weight:500;background-color:#e8f4f8!important}.my-comments-cell{max-width:200px;background-color:#fffbf0!important}.my-comments-cell.editable-cell{position:relative;cursor:text;min-height:24px}.my-comments-cell.editable-cell:empty:before{content:"Click to add comments...";color:#999;font-style:italic;position:absolute;pointer-events:none}.my-comments-cell.editable-cell:focus{outline:2px solid var(--primary-color);outline-offset:-2px;background-color:#fefaf0!important;box-shadow:inset 0 1px 3px #0000001a}.my-comments-cell.editable-cell:hover:not(:focus){box-shadow:inset 0 0 0 1px #66afe94d}.treated-cell{position:relative}.data-table tbody tr.row-selected .treated-cell{outline:none!important;position:static;z-index:auto}.data-table tbody tr.row-selected .treated-content{position:relative;z-index:1}.treated-content{display:flex;align-items:center;gap:4px}.comment-icon{background:none;border:none;font-size:12px;cursor:pointer;padding:2px;border-radius:3px;opacity:.7;transition:opacity .2s}.comment-icon:hover{opacity:1;background-color:#0000001a}.floating-tooltip{position:fixed;background:#fff;border:1px solid #ccc;border-radius:6px;box-shadow:0 4px 12px #00000026;z-index:9999;min-width:200px;max-width:400px}.tooltip-content{padding:12px;font-size:12px;line-height:1.4;color:#333}.tooltip-close{position:absolute;top:4px;right:4px;background:none;border:none;font-size:16px;cursor:pointer;color:#666;padding:4px;line-height:1}.tooltip-close:hover{color:#333;background-color:#0000001a;border-radius:50%}.file-input{margin-bottom:12px}.version-item{padding:8px 12px;border-bottom:1px solid var(--border-color);cursor:pointer;display:flex;justify-content:space-between;align-items:center}.version-item:hover{background-color:#0066cc0d}.version-item.active{background-color:var(--primary-color);color:#fff}.version-name{font-weight:500;font-size:13px}.version-date{font-size:11px;opacity:.7}.selected-count{font-weight:500;color:var(--primary-color)}.table-container>div{min-height:400px}.table-container h3{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-weight:600}.table-container p{line-height:1.5;margin:0}.versions-header.svelte-8hfe4i{padding:12px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.delete-btn.svelte-8hfe4i{padding:4px 8px;border:1px solid #dc3545;border-radius:4px;background:#dc3545;color:#fff;cursor:pointer;font-size:12px;transition:all .2s}.delete-btn.svelte-8hfe4i:hover:not(:disabled){background-color:#c82333}.delete-btn.svelte-8hfe4i:disabled{opacity:.5;cursor:not-allowed}.utility-section.svelte-8hfe4i{padding:12px;border-bottom:1px solid var(--border-color);display:flex;flex-direction:column;gap:8px}@media (min-width: 1200px){.utility-section.svelte-8hfe4i{flex-direction:row}.sidebar-btn.svelte-8hfe4i{flex:1;min-width:0}}.sidebar-btn.svelte-8hfe4i{padding:8px 12px;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer;font-size:12px;transition:all .2s;text-align:left;min-height:38px;display:flex;align-items:center;justify-content:center}.sidebar-btn.svelte-8hfe4i:hover{background-color:#f0f0f0}.btn-save-needed.svelte-8hfe4i{background-color:#007bff;color:#fff;border-color:#007bff;animation:svelte-8hfe4i-pulse 2s infinite}.btn-save-clean.svelte-8hfe4i{background-color:#28a745;color:#fff;border-color:#28a745}.btn-save-disabled.svelte-8hfe4i{background-color:#6c757d;color:#fff;border-color:#6c757d;opacity:.6;cursor:not-allowed}.btn-save-feedback.svelte-8hfe4i{background-color:#20c997!important;color:#fff!important;border-color:#20c997!important;animation:svelte-8hfe4i-saveSuccess 1.5s ease-out}.btn-danger.svelte-8hfe4i{background-color:#dc3545;color:#fff;border-color:#dc3545}.btn-danger.svelte-8hfe4i:hover{background-color:#c82333}@keyframes svelte-8hfe4i-pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}@keyframes svelte-8hfe4i-saveSuccess{0%{transform:scale(1);box-shadow:0 0 #20c997b3}50%{transform:scale(1.05);box-shadow:0 0 0 8px #20c9974d}to{transform:scale(1);box-shadow:0 0 #20c99700}}.agenda-outline.svelte-8hfe4i{flex:1;overflow-y:auto;border:1px solid rgba(222,226,230,.6);border-radius:4px;margin:0 12px 12px}.agenda-item.svelte-8hfe4i{display:flex;justify-content:space-between;align-items:center;padding:6px 12px;border-bottom:1px solid #f0f0f0;cursor:pointer;font-size:12px;transition:background-color .2s}.agenda-item.svelte-8hfe4i:hover{background-color:#f8f9fa}.agenda-item.main-item.svelte-8hfe4i{font-weight:600;color:#333;font-size:13px;border-bottom:1px solid #e9ecef}.agenda-item.sub-topic.svelte-8hfe4i{color:#666;font-size:11px;font-weight:400;padding-left:24px;background-color:#f8f9fa;border-bottom:1px solid #f0f0f0}.agenda-text.svelte-8hfe4i{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.modal-overlay.svelte-1udaypd.svelte-1udaypd{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content.svelte-1udaypd.svelte-1udaypd{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;max-width:500px;width:90%;max-height:90vh;overflow:auto}.modal-header.svelte-1udaypd.svelte-1udaypd{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 16px;border-bottom:1px solid #e9ecef}.modal-header.svelte-1udaypd h3.svelte-1udaypd{margin:0;font-size:18px;font-weight:600;color:#333}.modal-close.svelte-1udaypd.svelte-1udaypd{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.modal-close.svelte-1udaypd.svelte-1udaypd:hover{color:#333}.modal-body.svelte-1udaypd.svelte-1udaypd{padding:20px 24px}.modal-input.svelte-1udaypd.svelte-1udaypd{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.modal-input.svelte-1udaypd.svelte-1udaypd:focus{outline:none;border-color:#06c;box-shadow:0 0 0 2px #06c3}.modal-footer.svelte-1udaypd.svelte-1udaypd{padding:16px 24px 20px;display:flex;justify-content:flex-end;gap:8px;border-top:1px solid #e9ecef}.btn.svelte-1udaypd.svelte-1udaypd{padding:8px 16px;border:1px solid #ddd;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s}.btn-primary.svelte-1udaypd.svelte-1udaypd{background-color:#06c;color:#fff;border-color:#06c}.btn-primary.svelte-1udaypd.svelte-1udaypd:hover{background-color:#0056b3}.btn-secondary.svelte-1udaypd.svelte-1udaypd{background-color:#fff;color:#333}.btn-secondary.svelte-1udaypd.svelte-1udaypd:hover{background-color:#f8f9fa}

    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="module">
var ln=Object.defineProperty;var on=(t,e,n)=>e in t?ln(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mt=(t,e,n)=>on(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function ke(){}function rn(t,e){for(const n in e)t[n]=e[n];return t}function Qt(t){return t()}function At(){return Object.create(null)}function Ie(t){t.forEach(Qt)}function rt(t){return typeof t=="function"}function it(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function sn(t){return Object.keys(t).length===0}function an(t,e,n,l){if(t){const o=Xt(t,e,n,l);return t[0](o)}}function Xt(t,e,n,l){return t[1]&&l?rn(n.ctx.slice(),t[1](l(e))):n.ctx}function un(t,e,n,l){return t[2],e.dirty}function cn(t,e,n,l,o,r){if(o){const i=Xt(e,n,l,r);t.p(i,o)}}function fn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}const $t=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function a(t,e){t.appendChild(e)}function G(t,e,n){t.insertBefore(e,n||null)}function V(t){t.parentNode&&t.parentNode.removeChild(t)}function dn(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function I(t){return document.createTextNode(t)}function L(){return I(" ")}function st(){return I("")}function K(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function pn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function mn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _n(t){return Array.from(t.childNodes)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function hn(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $e(t,e){t.value=e==null?"":e}function U(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Qe(t,e,n){t.classList.toggle(e,!!n)}let ot;function lt(t){ot=t}function Ft(){if(!ot)throw new Error("Function called outside component initialization");return ot}function gt(t){Ft().$$.on_mount.push(t)}function gn(t){Ft().$$.after_update.push(t)}function bn(t){Ft().$$.on_destroy.push(t)}function vn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const Ye=[],Be=[];let Xe=[];const bt=[],On=Promise.resolve();let vt=!1;function Fn(){vt||(vt=!0,On.then(xt))}function Ot(t){Xe.push(t)}function Ke(t){bt.push(t)}const _t=new Set;let je=0;function xt(){if(je!==0)return;const t=ot;do{try{for(;je<Ye.length;){const e=Ye[je];je++,lt(e),Cn(e.$$)}}catch(e){throw Ye.length=0,je=0,e}for(lt(null),Ye.length=0,je=0;Be.length;)Be.pop()();for(let e=0;e<Xe.length;e+=1){const n=Xe[e];_t.has(n)||(_t.add(n),n())}Xe.length=0}while(Ye.length);for(;bt.length;)bt.pop()();vt=!1,_t.clear(),lt(t)}function Cn(t){if(t.fragment!==null){t.update(),Ie(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ot)}}function Tn(t){const e=[],n=[];Xe.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Xe=e}const ft=new Set;let We;function en(){We={r:0,c:[],p:We}}function tn(){We.r||Ie(We.c),We=We.p}function Ae(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function De(t,e,n,l){if(t&&t.o){if(ft.has(t))return;ft.add(t),We.c.push(()=>{ft.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function Me(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function dt(t,e){t.d(1),e.delete(t.key)}function pt(t,e,n,l,o,r,i,u,f,s,c,d){let _=t.length,O=r.length,y=_;const E={};for(;y--;)E[t[y].key]=y;const h=[],b=new Map,S=new Map,W=[];for(y=O;y--;){const C=d(o,r,y),B=n(C);let z=i.get(B);z?W.push(()=>z.p(C,e)):(z=s(B,C),z.c()),b.set(B,h[y]=z),B in E&&S.set(B,Math.abs(y-E[B]))}const w=new Set,F=new Set;function N(C){Ae(C,1),C.m(u,c),i.set(C.key,C),c=C.first,O--}for(;_&&O;){const C=h[O-1],B=t[_-1],z=C.key,J=B.key;C===B?(c=C.first,_--,O--):b.has(J)?!i.has(z)||w.has(z)?N(C):F.has(J)?_--:S.get(z)>S.get(J)?(F.add(z),N(C)):(w.add(J),_--):(f(B,i),_--)}for(;_--;){const C=t[_];b.has(C.key)||f(C,i)}for(;O;)N(h[O-1]);return Ie(W),h}function Je(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function ze(t){t&&t.c()}function Ve(t,e,n){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),Ot(()=>{const r=t.$$.on_mount.map(Qt).filter(rt);t.$$.on_destroy?t.$$.on_destroy.push(...r):Ie(r),t.$$.on_mount=[]}),o.forEach(Ot)}function Pe(t,e){const n=t.$$;n.fragment!==null&&(Tn(n.after_update),Ie(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function An(t,e){t.$$.dirty[0]===-1&&(Ye.push(t),Fn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(t,e,n,l,o,r,i=null,u=[-1]){const f=ot;lt(t);const s=t.$$={fragment:null,ctx:[],props:r,update:ke,not_equal:o,bound:At(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:At(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};i&&i(s.root);let c=!1;if(s.ctx=n?n(t,e.props||{},(d,_,...O)=>{const y=O.length?O[0]:_;return s.ctx&&o(s.ctx[d],s.ctx[d]=y)&&(!s.skip_bound&&s.bound[d]&&s.bound[d](y),c&&An(t,d)),_}):[],s.update(),c=!0,Ie(s.before_update),s.fragment=l?l(s.ctx):!1,e.target){if(e.hydrate){const d=_n(e.target);s.fragment&&s.fragment.l(d),d.forEach(V)}else s.fragment&&s.fragment.c();e.intro&&Ae(t.$$.fragment),Ve(t,e.target,e.anchor),xt()}lt(f)}class ut{constructor(){mt(this,"$$");mt(this,"$$set")}$destroy(){Pe(this,1),this.$destroy=ke}$on(e,n){if(!rt(n))return ke;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!sn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const kn="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kn);function be(t){return t&&t.replace(/�/g,"'").replace(/'/g,"'").replace(/'/g,"'").replace(/"/g,'"').replace(/"/g,'"').replace(/–/g,"-").replace(/—/g,"-").replace(/…/g,"...").trim()}function yn(t){const l=new DOMParser().parseFromString(t,"text/html").querySelector("table");if(!l)throw new Error("No table found in HTML");const o=l.querySelector("tr"),r=Array.from(o.querySelectorAll("th, td")),i=r.some(s=>s.textContent.trim().toLowerCase().includes("my approval")||s.textContent.trim().toLowerCase().includes("approval/comments"));return i&&r.findIndex(s=>s.textContent.trim().toLowerCase().includes("my approval")||s.textContent.trim().toLowerCase().includes("approval/comments")),Array.from(l.querySelectorAll("tr")).slice(1).map((s,c)=>{var _e,Se,he,ce,ge,v,D,Ce,Te,me,le,Ne,fe,ie,Le,m,R,A,k,M,Y,Z,X,Q,H,He,Ge,Ue,Ze;const d=Array.from(s.querySelectorAll("td, th")),_=i?14:13;if(d.length<_)return null;let O=0;const y=be(((Se=(_e=d[O++])==null?void 0:_e.textContent)==null?void 0:Se.trim())||""),E=be(((ce=(he=d[O++])==null?void 0:he.textContent)==null?void 0:ce.trim())||""),h=d[O++],b=be(((v=(ge=d[O++])==null?void 0:ge.textContent)==null?void 0:v.trim())||""),S=be(((Ce=(D=d[O++])==null?void 0:D.textContent)==null?void 0:Ce.trim())||""),W=be(((me=(Te=d[O++])==null?void 0:Te.textContent)==null?void 0:me.trim())||""),w=be(((Ne=(le=d[O++])==null?void 0:le.textContent)==null?void 0:Ne.trim())||""),F=be(((ie=(fe=d[O++])==null?void 0:fe.textContent)==null?void 0:ie.trim())||""),N=d[O++],C=be(((m=(Le=N==null?void 0:N.querySelector(".tooltip .tooltiptext"))==null?void 0:Le.textContent)==null?void 0:m.trim())||"");let B="";if(N){const de=N.cloneNode(!0);de.querySelectorAll(".tooltiptext").forEach(Ee=>Ee.remove()),B=be(((R=de.textContent)==null?void 0:R.trim())||"")}const z=be(((k=(A=d[O++])==null?void 0:A.textContent)==null?void 0:k.trim())||"");let J="",re=null;if(i){const de=d[O++],we=de==null?void 0:de.querySelector(".tooltip");if(we){const Ee=(Y=we.textContent)==null?void 0:Y.replace(((M=we.querySelector(".tooltiptext"))==null?void 0:M.textContent)||"","").trim(),qe=(X=(Z=we.querySelector(".tooltiptext"))==null?void 0:Z.textContent)==null?void 0:X.trim();re=be(Ee||""),J=be(qe||"")}else{const Ee=be(((Q=de==null?void 0:de.textContent)==null?void 0:Q.trim())||"");["approved","noted","revised","postponed","not pursued"].includes(Ee.toLowerCase())?(re=Ee.toLowerCase(),J=""):J=Ee}}const ee=be(((He=(H=d[O++])==null?void 0:H.textContent)==null?void 0:He.trim())||""),te=d[O++],T=te==null?void 0:te.querySelector("a"),j=be(((Ge=te==null?void 0:te.textContent)==null?void 0:Ge.trim())||""),P=(T==null?void 0:T.getAttribute("href"))||"",oe=d[O++],ae=oe==null?void 0:oe.querySelector("a"),ve=be(((Ue=oe==null?void 0:oe.textContent)==null?void 0:Ue.trim())||""),$=(ae==null?void 0:ae.getAttribute("href"))||"",ue=h==null?void 0:h.querySelector("a"),Re=be(((Ze=ue==null?void 0:ue.textContent)==null?void 0:Ze.replace(/[‑-]/g,"-").trim())||""),ye=(ue==null?void 0:ue.getAttribute("href"))||"";function ne(de){const we=de==null?void 0:de.getAttribute("bgcolor");return we&&we!=="#FFFFFF"?we:"#FFFFFF"}const Oe={agenda:ne(d[0]),topic:ne(d[1]),tdoc:ne(h),title:ne(d[3]),source:ne(d[4]),type:ne(d[5]),for:ne(d[6]),avail:ne(d[7]),treated:ne(N),decision:ne(d[O-1]),wdrn:ne(d[O+(i?1:0)]),replacedBy:ne(te),replaces:ne(oe)},Fe=Oe.tdoc;let pe="";return Fe==="#99FF33"?pe="original-green":Fe==="#FFFF99"?pe="original-yellow":Fe==="#FF8566"&&(pe="original-orange"),{id:`${Re}-${c}`,agenda:y,topic:E,tdocNumber:Re,tdocHref:ye,title:b,source:S,type:W,for:w,avail:F,treated:B,treatedTooltip:C,decision:z,wdrn:ee,replacedBy:j,replacedByHref:P,replaces:ve,replacesHref:$,originalBgColor:Fe,originalColorClass:pe,cellColors:Oe,userApproval:re,userComments:J,selected:!1,isRevision:!1,parentTdoc:null,revisionNumber:null}}).filter(Boolean)}function wn(t){const l=new DOMParser().parseFromString(t,"text/html").querySelectorAll("p font");let o="";for(const f of l){const s=f.textContent.trim();if(s.match(/\d{4}-\d{2}-\d{2}/)){o=s;break}}const r=new Date,i=f=>f.toISOString().slice(0,19).replace("T","_").replace(/:/g,"h");return{name:o?`Version_${o.replace(/[\s:]/g,"_")}`:`Version_${i(r)}`,timestamp:r.toISOString(),originalDate:o,formattedDate:i(r)}}function Rn(t,e,n=[]){const l=wn(e),o=yn(e),r=Sn(o,n);return{...l,id:Date.now().toString(),tdocs:r,isActive:!0}}function Sn(t,e){const n=new Map;return e.forEach(l=>{n.set(l.tdocNumber,l)}),t.map(l=>{const o=n.get(l.tdocNumber);return o?{...l,userApproval:o.userApproval,userComments:o.userComments}:l})}const{Map:nn}=$t;function kt(t,e,n){const l=t.slice();return l[18]=e[n],l}function yt(t,e,n){const l=t.slice();return l[21]=e[n],l}function wt(t){let e,n,l,o,r;return{c(){e=g("button"),n=I("Delete"),p(e,"class","delete-btn btn-danger svelte-8hfe4i"),p(e,"title",l=t[0].length<=1?"Delete current data to start fresh":`Delete version v${t[0].indexOf(t[1])+1}`)},m(i,u){G(i,e,u),a(e,n),o||(r=K(e,"click",t[14]),o=!0)},p(i,u){u&3&&l!==(l=i[0].length<=1?"Delete current data to start fresh":`Delete version v${i[0].indexOf(i[1])+1}`)&&p(e,"title",l)},d(i){i&&V(e),o=!1,r()}}}function Rt(t){let e,n=t[6]?"✓ Saved!":t[0].length===0?"💾 No Data":t[5]?"💾 Save":"✓ Saved",l,o,r,i,u,f;return{c(){e=g("button"),l=I(n),p(e,"class",o="sidebar-btn btn-save "+(t[5]?"btn-save-needed":t[0].length>0?"btn-save-clean":"btn-save-disabled")+" "+(t[6]?"btn-save-feedback":"")+" svelte-8hfe4i"),e.disabled=r=t[0].length===0,p(e,"title",i=t[0].length===0?"No data to save":t[5]?"Save changes":"All changes saved")},m(s,c){G(s,e,c),a(e,l),u||(f=K(e,"click",t[10]),u=!0)},p(s,c){c&97&&n!==(n=s[6]?"✓ Saved!":s[0].length===0?"💾 No Data":s[5]?"💾 Save":"✓ Saved")&&x(l,n),c&97&&o!==(o="sidebar-btn btn-save "+(s[5]?"btn-save-needed":s[0].length>0?"btn-save-clean":"btn-save-disabled")+" "+(s[6]?"btn-save-feedback":"")+" svelte-8hfe4i")&&p(e,"class",o),c&1&&r!==(r=s[0].length===0)&&(e.disabled=r),c&33&&i!==(i=s[0].length===0?"No data to save":s[5]?"Save changes":"All changes saved")&&p(e,"title",i)},d(s){s&&V(e),u=!1,f()}}}function St(t){let e,n,l=t[0].length===0?"No Data":"Export HTML",o,r,i,u,f,s;return{c(){e=g("button"),n=I("📄 "),o=I(l),p(e,"class",r="sidebar-btn "+(t[0].length===0?"btn-save-disabled":"")+" svelte-8hfe4i"),e.disabled=i=t[0].length===0,p(e,"title",u=t[0].length===0?"No data to export":"Export current version as HTML")},m(c,d){G(c,e,d),a(e,n),a(e,o),f||(s=K(e,"click",function(){rt(t[3])&&t[3].apply(this,arguments)}),f=!0)},p(c,d){t=c,d&1&&l!==(l=t[0].length===0?"No Data":"Export HTML")&&x(o,l),d&1&&r!==(r="sidebar-btn "+(t[0].length===0?"btn-save-disabled":"")+" svelte-8hfe4i")&&p(e,"class",r),d&1&&i!==(i=t[0].length===0)&&(e.disabled=i),d&1&&u!==(u=t[0].length===0?"No data to export":"Export current version as HTML")&&p(e,"title",u)},d(c){c&&V(e),f=!1,s()}}}function Nn(t){let e=[],n=new nn,l,o=Me(t[0]);const r=i=>i[21].id;for(let i=0;i<o.length;i+=1){let u=yt(t,o,i),f=r(u);n.set(f,e[i]=Lt(f,u))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=st()},m(i,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(i,u);G(i,l,u)},p(i,u){u&259&&(o=Me(i[0]),e=pt(e,u,r,1,i,o,n,l.parentNode,dt,Lt,l,yt))},d(i){i&&V(l);for(let u=0;u<e.length;u+=1)e[u].d(i)}}}function Ln(t){let e;return{c(){e=g("div"),e.textContent="No versions loaded yet",U(e,"padding","12px"),U(e,"color","#666"),U(e,"font-size","12px")},m(n,l){G(n,e,l)},p:ke,d(n){n&&V(e)}}}function Nt(t){let e,n,l=t[21].originalDate+"",o;return{c(){e=g("div"),n=I("Original: "),o=I(l),p(e,"class","version-date")},m(r,i){G(r,e,i),a(e,n),a(e,o)},p(r,i){i&1&&l!==(l=r[21].originalDate+"")&&x(o,l)},d(r){r&&V(e)}}}function Lt(t,e){let n,l,o,r,i=e[0].indexOf(e[21])+1+"",u,f,s,c=Ht(e[21].timestamp)+"",d,_,O,y,E=e[21].tdocs.length+"",h,b,S,W,w,F,N=e[21].originalDate&&Nt(e);function C(){return e[15](e[21])}return{key:t,first:null,c(){var B;n=g("div"),l=g("div"),o=g("div"),r=I("v"),u=I(i),f=L(),s=g("div"),d=I(c),_=L(),N&&N.c(),O=L(),y=g("div"),h=I(E),b=I(" entries"),S=L(),p(o,"class","version-name"),p(s,"class","version-date"),U(y,"font-size","11px"),U(y,"opacity","0.7"),p(n,"class",W="version-item "+(((B=e[1])==null?void 0:B.id)===e[21].id?"active":"")),this.first=n},m(B,z){G(B,n,z),a(n,l),a(l,o),a(o,r),a(o,u),a(l,f),a(l,s),a(s,d),a(l,_),N&&N.m(l,null),a(n,O),a(n,y),a(y,h),a(y,b),a(n,S),w||(F=K(n,"click",C),w=!0)},p(B,z){var J;e=B,z&1&&i!==(i=e[0].indexOf(e[21])+1+"")&&x(u,i),z&1&&c!==(c=Ht(e[21].timestamp)+"")&&x(d,c),e[21].originalDate?N?N.p(e,z):(N=Nt(e),N.c(),N.m(l,null)):N&&(N.d(1),N=null),z&1&&E!==(E=e[21].tdocs.length+"")&&x(h,E),z&3&&W!==(W="version-item "+(((J=e[1])==null?void 0:J.id)===e[21].id?"active":""))&&p(n,"class",W)},d(B){B&&V(n),N&&N.d(),w=!1,F()}}}function Et(t){let e,n,l,o=[],r=new nn,i=Me(t[7]);const u=f=>f[18].id;for(let f=0;f<i.length;f+=1){let s=kt(t,i,f),c=u(s);r.set(c,o[f]=Dt(c,s))}return{c(){e=g("div"),e.innerHTML='<h3 style="margin: 0; font-size: 14px; color: var(--text-color);">Agenda Outline</h3>',n=L(),l=g("div");for(let f=0;f<o.length;f+=1)o[f].c();U(e,"padding","12px"),U(e,"border-top","1px solid var(--border-color)"),U(e,"border-bottom","1px solid var(--border-color)"),p(l,"class","agenda-outline svelte-8hfe4i")},m(f,s){G(f,e,s),G(f,n,s),G(f,l,s);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(l,null)},p(f,s){s&640&&(i=Me(f[7]),o=pt(o,s,u,1,f,i,r,l,dt,Dt,null,kt))},d(f){f&&(V(e),V(n),V(l));for(let s=0;s<o.length;s+=1)o[s].d()}}}function Dt(t,e){let n,l,o=e[18].text+"",r,i,u,f;function s(){return e[16](e[18])}function c(...d){return e[17](e[18],...d)}return{key:t,first:null,c(){n=g("div"),l=g("div"),r=I(o),i=L(),p(l,"class","agenda-text svelte-8hfe4i"),p(n,"class","agenda-item svelte-8hfe4i"),p(n,"tabindex","0"),p(n,"role","button"),Qe(n,"main-item",e[18].isMainItem),Qe(n,"sub-topic",e[18].isSubTopic),this.first=n},m(d,_){G(d,n,_),a(n,l),a(l,r),a(n,i),u||(f=[K(n,"click",s),K(n,"keydown",c)],u=!0)},p(d,_){e=d,_&128&&o!==(o=e[18].text+"")&&x(r,o),_&128&&Qe(n,"main-item",e[18].isMainItem),_&128&&Qe(n,"sub-topic",e[18].isSubTopic)},d(d){d&&V(n),u=!1,Ie(f)}}}function En(t){let e,n,l,o,r,i,u,f,s,c=t[4]&&t[1]&&wt(t),d=t[2]&&Rt(t),_=t[3]&&St(t);function O(b,S){return b[0].length===0?Ln:Nn}let y=O(t),E=y(t),h=t[1]&&t[7].length>0&&Et(t);return{c(){e=g("div"),n=g("div"),l=g("h3"),l.textContent="Versions",o=L(),c&&c.c(),r=L(),i=g("div"),d&&d.c(),u=L(),_&&_.c(),f=L(),E.c(),s=L(),h&&h.c(),U(l,"margin","0"),U(l,"font-size","14px"),U(l,"color","var(--text-color)"),p(n,"class","versions-header svelte-8hfe4i"),p(i,"class","utility-section svelte-8hfe4i"),p(e,"class","sidebar-content"),U(e,"display","flex"),U(e,"flex-direction","column"),U(e,"height","100%")},m(b,S){G(b,e,S),a(e,n),a(n,l),a(n,o),c&&c.m(n,null),a(e,r),a(e,i),d&&d.m(i,null),a(i,u),_&&_.m(i,null),a(e,f),E.m(e,null),a(e,s),h&&h.m(e,null)},p(b,[S]){b[4]&&b[1]?c?c.p(b,S):(c=wt(b),c.c(),c.m(n,null)):c&&(c.d(1),c=null),b[2]?d?d.p(b,S):(d=Rt(b),d.c(),d.m(i,u)):d&&(d.d(1),d=null),b[3]?_?_.p(b,S):(_=St(b),_.c(),_.m(i,null)):_&&(_.d(1),_=null),y===(y=O(b))&&E?E.p(b,S):(E.d(1),E=y(b),E&&(E.c(),E.m(e,s))),b[1]&&b[7].length>0?h?h.p(b,S):(h=Et(b),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:ke,o:ke,d(b){b&&V(e),c&&c.d(),d&&d.d(),_&&_.d(),E.d(),h&&h.d()}}}function Ht(t){const e=new Date(t),n=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return`${n}-${l}-${o} ${r}:${i}`}function Dn(t){if(!t||t.length===0)return[];const e=new Map;t.forEach(l=>{if(l.agenda&&l.agenda.trim()!==""){const o=l.agenda.trim();e.has(o)||e.set(o,{type:"agenda",text:o,id:`agenda-${o}`,count:0,approvedCount:0,topics:new Map});const r=e.get(o);if(r.count++,(l.userApproval||l.decision==="approved")&&r.approvedCount++,l.topic&&l.topic.trim()!==""){const i=l.topic.trim();r.topics.has(i)||r.topics.set(i,{type:"topic",text:i,id:`topic-${o}-${i}`,agenda:o,count:0,approvedCount:0});const u=r.topics.get(i);u.count++,(l.userApproval||l.decision==="approved")&&u.approvedCount++}}});const n=[];return e.forEach(l=>{const o=Array.from(l.topics.values())[0],r=o?`${l.text} ${o.text}`:l.text;n.push({...l,text:r,isMainItem:!0}),l.topics.size>1&&Array.from(l.topics.values()).slice(1).forEach(i=>{n.push({...i,isSubTopic:!0,parentAgenda:l.text})})}),n}function Hn(t,e,n){let l,{versions:o}=e,{currentVersion:r}=e,{filteredTdocs:i=[]}=e,{onVersionSelect:u}=e,{onAgendaJump:f=null}=e,{onSave:s=null}=e,{onExportHtml:c=null}=e,{onDeleteVersion:d=null}=e,{hasUnsavedChanges:_=!1}=e,O=!1;function y(F){u(F)}function E(F){f&&f(F)}function h(){s&&(s(),n(6,O=!0),setTimeout(()=>{n(6,O=!1)},1500))}const b=()=>d(r),S=F=>y(F),W=F=>E(F),w=(F,N)=>N.key==="Enter"&&E(F);return t.$$set=F=>{"versions"in F&&n(0,o=F.versions),"currentVersion"in F&&n(1,r=F.currentVersion),"filteredTdocs"in F&&n(11,i=F.filteredTdocs),"onVersionSelect"in F&&n(12,u=F.onVersionSelect),"onAgendaJump"in F&&n(13,f=F.onAgendaJump),"onSave"in F&&n(2,s=F.onSave),"onExportHtml"in F&&n(3,c=F.onExportHtml),"onDeleteVersion"in F&&n(4,d=F.onDeleteVersion),"hasUnsavedChanges"in F&&n(5,_=F.hasUnsavedChanges)},t.$$.update=()=>{t.$$.dirty&2048&&n(7,l=i.length>0?Dn(i):[])},[o,r,s,c,d,_,O,l,y,E,h,i,u,f,b,S,W,w]}class Bn extends ut{constructor(e){super(),at(this,e,Hn,En,it,{versions:0,currentVersion:1,filteredTdocs:11,onVersionSelect:12,onAgendaJump:13,onSave:2,onExportHtml:3,onDeleteVersion:4,hasUnsavedChanges:5})}}function Bt(t,e,n){const l=t.slice();return l[27]=e[n],l}function It(t,e,n){const l=t.slice();return l[30]=e[n],l}function In(t){let e;return{c(){e=g("tr"),e.innerHTML='<td colspan="13" style="text-align: center; padding: 40px 20px; font-size: 14px; color: #666;">No TDoc data available. Please upload an HTML file to get started.</td>'},m(n,l){G(n,e,l)},p:ke,d(n){n&&V(e)}}}function Mn(t){let e=[],n=new Map,l,o=Me(t[5]);const r=i=>i[27].key;for(let i=0;i<o.length;i+=1){let u=Bt(t,o,i),f=r(u);n.set(f,e[i]=Pt(f,u))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=st()},m(i,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(i,u);G(i,l,u)},p(i,u){u[0]&2045&&(o=Me(i[5]),e=pt(e,u,r,1,i,o,n,l.parentNode,dt,Pt,l,Bt))},d(i){i&&V(l);for(let u=0;u<e.length;u+=1)e[u].d(i)}}}function Vn(t){let e=t[30].tdocNumber+"",n;return{c(){n=I(e)},m(l,o){G(l,n,o)},p(l,o){o[0]&32&&e!==(e=l[30].tdocNumber+"")&&x(n,e)},d(l){l&&V(n)}}}function Pn(t){let e,n=t[30].tdocNumber+"",l,o,r,i,u;function f(...s){return t[16](t[30],...s)}return{c(){e=g("a"),l=I(n),p(e,"href",o=t[30].tdocHref),p(e,"target",r=t[30].tdocHref.startsWith("#")?"_self":"_blank")},m(s,c){G(s,e,c),a(e,l),i||(u=K(e,"click",f),i=!0)},p(s,c){t=s,c[0]&32&&n!==(n=t[30].tdocNumber+"")&&x(l,n),c[0]&32&&o!==(o=t[30].tdocHref)&&p(e,"href",o),c[0]&32&&r!==(r=t[30].tdocHref.startsWith("#")?"_self":"_blank")&&p(e,"target",r)},d(s){s&&V(e),i=!1,u()}}}function Gn(t){let e=t[30].treated+"",n;return{c(){n=I(e)},m(l,o){G(l,n,o)},p(l,o){o[0]&32&&e!==(e=l[30].treated+"")&&x(n,e)},d(l){l&&V(n)}}}function Un(t){let e,n,l=t[30].treated+"",o,r,i,u,f,s;function c(..._){return t[17](t[30],..._)}let d=t[3]===t[30].id&&Mt(t);return{c(){e=g("div"),n=g("span"),o=I(l),r=L(),i=g("button"),i.textContent="💬",u=L(),d&&d.c(),p(i,"class","comment-icon"),p(i,"title","Click to view comments"),p(e,"class","treated-content")},m(_,O){G(_,e,O),a(e,n),a(n,o),a(e,r),a(e,i),a(e,u),d&&d.m(e,null),f||(s=K(i,"click",c),f=!0)},p(_,O){t=_,O[0]&32&&l!==(l=t[30].treated+"")&&x(o,l),t[3]===t[30].id?d?d.p(t,O):(d=Mt(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(_){_&&V(e),d&&d.d(),f=!1,s()}}}function Mt(t){let e,n,l=t[30].treatedTooltip+"",o,r,i,u,f;return{c(){e=g("div"),n=g("div"),o=I(l),r=L(),i=g("button"),i.textContent="×",p(n,"class","tooltip-content"),p(i,"class","tooltip-close"),p(e,"class","floating-tooltip"),U(e,"left",t[4].x+"px"),U(e,"top",t[4].y+"px")},m(s,c){G(s,e,c),a(e,n),a(n,o),a(e,r),a(e,i),u||(f=K(i,"click",t[9]),u=!0)},p(s,c){c[0]&32&&l!==(l=s[30].treatedTooltip+"")&&x(o,l),c[0]&16&&U(e,"left",s[4].x+"px"),c[0]&16&&U(e,"top",s[4].y+"px")},d(s){s&&V(e),u=!1,f()}}}function Zn(t){let e=t[30].replacedBy+"",n;return{c(){n=I(e)},m(l,o){G(l,n,o)},p(l,o){o[0]&32&&e!==(e=l[30].replacedBy+"")&&x(n,e)},d(l){l&&V(n)}}}function qn(t){let e,n=t[30].replacedBy+"",l,o,r,i,u;function f(...s){return t[20](t[30],...s)}return{c(){e=g("a"),l=I(n),p(e,"href",o=t[30].replacedByHref),p(e,"target",r=t[30].replacedByHref.startsWith("#")?"_self":"_blank")},m(s,c){G(s,e,c),a(e,l),i||(u=K(e,"click",f),i=!0)},p(s,c){t=s,c[0]&32&&n!==(n=t[30].replacedBy+"")&&x(l,n),c[0]&32&&o!==(o=t[30].replacedByHref)&&p(e,"href",o),c[0]&32&&r!==(r=t[30].replacedByHref.startsWith("#")?"_self":"_blank")&&p(e,"target",r)},d(s){s&&V(e),i=!1,u()}}}function zn(t){let e=t[30].replaces+"",n;return{c(){n=I(e)},m(l,o){G(l,n,o)},p(l,o){o[0]&32&&e!==(e=l[30].replaces+"")&&x(n,e)},d(l){l&&V(n)}}}function Wn(t){let e,n=t[30].replaces+"",l,o,r,i,u;function f(...s){return t[21](t[30],...s)}return{c(){e=g("a"),l=I(n),p(e,"href",o=t[30].replacesHref),p(e,"target",r=t[30].replacesHref.startsWith("#")?"_self":"_blank")},m(s,c){G(s,e,c),a(e,l),i||(u=K(e,"click",f),i=!0)},p(s,c){t=s,c[0]&32&&n!==(n=t[30].replaces+"")&&x(l,n),c[0]&32&&o!==(o=t[30].replacesHref)&&p(e,"href",o),c[0]&32&&r!==(r=t[30].replacesHref.startsWith("#")?"_self":"_blank")&&p(e,"target",r)},d(s){s&&V(e),i=!1,u()}}}function Vt(t,e){let n,l,o,r,i=e[30].title+"",u,f,s,c=e[30].source+"",d,_,O,y=e[30].type+"",E,h,b,S=e[30].for+"",W,w,F,N=e[30].avail+"",C,B,z,J,re,ee,te=e[30].decision+"",T,j,P,oe=(e[30].userApproval||"")+"",ae,ve,$,ue=(e[30].userComments||"")+"",Re,ye,ne,Oe=e[30].wdrn+"",Fe,pe,_e,Se,he,ce,ge,v,D,Ce;function Te(Q,H){return Q[30].tdocHref?Pn:Vn}let me=Te(e),le=me(e);function Ne(Q,H){return Q[30].treatedTooltip?Un:Gn}let fe=Ne(e),ie=fe(e);function Le(...Q){return e[18](e[30],...Q)}function m(Q,H){return Q[30].replacedByHref?qn:Zn}let R=m(e),A=R(e);function k(Q,H){return Q[30].replacesHref?Wn:zn}let M=k(e),Y=M(e);function Z(){return e[22](e[30])}function X(...Q){return e[23](e[30],...Q)}return{key:t,first:null,c(){var Q,H,He,Ge,Ue,Ze,de,we,Ee,qe,xe,et,tt;n=g("tr"),l=g("td"),le.c(),o=L(),r=g("td"),u=I(i),f=L(),s=g("td"),d=I(c),_=L(),O=g("td"),E=I(y),h=L(),b=g("td"),W=I(S),w=L(),F=g("td"),C=I(N),B=L(),z=g("td"),ie.c(),re=L(),ee=g("td"),T=I(te),j=L(),P=g("td"),ae=I(oe),ve=L(),$=g("td"),Re=I(ue),ye=L(),ne=g("td"),Fe=I(Oe),pe=L(),_e=g("td"),A.c(),Se=L(),he=g("td"),Y.c(),ce=L(),U(l,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Q=e[30].cellColors)==null?void 0:Q.tdoc)||q(e[30].decision,e[30].userApproval)),U(r,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((H=e[30].cellColors)==null?void 0:H.title)||q(e[30].decision,e[30].userApproval)),U(s,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((He=e[30].cellColors)==null?void 0:He.source)||q(e[30].decision,e[30].userApproval)),U(O,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ge=e[30].cellColors)==null?void 0:Ge.type)||q(e[30].decision,e[30].userApproval)),U(b,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ue=e[30].cellColors)==null?void 0:Ue.for)||q(e[30].decision,e[30].userApproval)),U(F,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ze=e[30].cellColors)==null?void 0:Ze.avail)||q(e[30].decision,e[30].userApproval)),U(z,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((de=e[30].cellColors)==null?void 0:de.treated)||q(e[30].decision,e[30].userApproval)),p(z,"class","treated-cell"),p(z,"data-tooltip-id",J=e[30].id),U(ee,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((we=e[30].cellColors)==null?void 0:we.decision)||q(e[30].decision,e[30].userApproval)),p(P,"class","my-approval-cell"),U(P,"background-color",ct(e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ee=e[30].cellColors)==null?void 0:Ee.decision)||q(e[30].decision,e[30].userApproval))),p($,"class","editable-cell my-comments-cell"),U($,"background-color",ct(e[30].userApproval?q(e[30].decision,e[30].userApproval):((qe=e[30].cellColors)==null?void 0:qe.decision)||q(e[30].decision,e[30].userApproval))),p($,"contenteditable","true"),U(ne,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((xe=e[30].cellColors)==null?void 0:xe.wdrn)||q(e[30].decision,e[30].userApproval)),U(_e,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((et=e[30].cellColors)==null?void 0:et.replacedBy)||q(e[30].decision,e[30].userApproval)),U(he,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((tt=e[30].cellColors)==null?void 0:tt.replaces)||q(e[30].decision,e[30].userApproval)),p(n,"class",ge=e[10](e[30])),p(n,"role","button"),p(n,"tabindex","0"),p(n,"data-tdoc-id",v=e[30].id),Qe(n,"row-selected",e[0]===e[30].id),this.first=n},m(Q,H){G(Q,n,H),a(n,l),le.m(l,null),a(n,o),a(n,r),a(r,u),a(n,f),a(n,s),a(s,d),a(n,_),a(n,O),a(O,E),a(n,h),a(n,b),a(b,W),a(n,w),a(n,F),a(F,C),a(n,B),a(n,z),ie.m(z,null),a(n,re),a(n,ee),a(ee,T),a(n,j),a(n,P),a(P,ae),a(n,ve),a(n,$),a($,Re),a(n,ye),a(n,ne),a(ne,Fe),a(n,pe),a(n,_e),A.m(_e,null),a(n,Se),a(n,he),Y.m(he,null),a(n,ce),D||(Ce=[K($,"blur",Le),K($,"click",e[19]),K($,"focus",Jn),K(n,"click",Z),K(n,"keydown",X)],D=!0)},p(Q,H){var He,Ge,Ue,Ze,de,we,Ee,qe,xe,et,tt,Ct,Tt;e=Q,me===(me=Te(e))&&le?le.p(e,H):(le.d(1),le=me(e),le&&(le.c(),le.m(l,null))),H[0]&32&&U(l,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((He=e[30].cellColors)==null?void 0:He.tdoc)||q(e[30].decision,e[30].userApproval)),H[0]&32&&i!==(i=e[30].title+"")&&x(u,i),H[0]&32&&U(r,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ge=e[30].cellColors)==null?void 0:Ge.title)||q(e[30].decision,e[30].userApproval)),H[0]&32&&c!==(c=e[30].source+"")&&x(d,c),H[0]&32&&U(s,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ue=e[30].cellColors)==null?void 0:Ue.source)||q(e[30].decision,e[30].userApproval)),H[0]&32&&y!==(y=e[30].type+"")&&x(E,y),H[0]&32&&U(O,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ze=e[30].cellColors)==null?void 0:Ze.type)||q(e[30].decision,e[30].userApproval)),H[0]&32&&S!==(S=e[30].for+"")&&x(W,S),H[0]&32&&U(b,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((de=e[30].cellColors)==null?void 0:de.for)||q(e[30].decision,e[30].userApproval)),H[0]&32&&N!==(N=e[30].avail+"")&&x(C,N),H[0]&32&&U(F,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((we=e[30].cellColors)==null?void 0:we.avail)||q(e[30].decision,e[30].userApproval)),fe===(fe=Ne(e))&&ie?ie.p(e,H):(ie.d(1),ie=fe(e),ie&&(ie.c(),ie.m(z,null))),H[0]&32&&U(z,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ee=e[30].cellColors)==null?void 0:Ee.treated)||q(e[30].decision,e[30].userApproval)),H[0]&32&&J!==(J=e[30].id)&&p(z,"data-tooltip-id",J),H[0]&32&&te!==(te=e[30].decision+"")&&x(T,te),H[0]&32&&U(ee,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((qe=e[30].cellColors)==null?void 0:qe.decision)||q(e[30].decision,e[30].userApproval)),H[0]&32&&oe!==(oe=(e[30].userApproval||"")+"")&&x(ae,oe),H[0]&32&&U(P,"background-color",ct(e[30].userApproval?q(e[30].decision,e[30].userApproval):((xe=e[30].cellColors)==null?void 0:xe.decision)||q(e[30].decision,e[30].userApproval))),H[0]&32&&ue!==(ue=(e[30].userComments||"")+"")&&hn(Re,ue),H[0]&32&&U($,"background-color",ct(e[30].userApproval?q(e[30].decision,e[30].userApproval):((et=e[30].cellColors)==null?void 0:et.decision)||q(e[30].decision,e[30].userApproval))),H[0]&32&&Oe!==(Oe=e[30].wdrn+"")&&x(Fe,Oe),H[0]&32&&U(ne,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((tt=e[30].cellColors)==null?void 0:tt.wdrn)||q(e[30].decision,e[30].userApproval)),R===(R=m(e))&&A?A.p(e,H):(A.d(1),A=R(e),A&&(A.c(),A.m(_e,null))),H[0]&32&&U(_e,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Ct=e[30].cellColors)==null?void 0:Ct.replacedBy)||q(e[30].decision,e[30].userApproval)),M===(M=k(e))&&Y?Y.p(e,H):(Y.d(1),Y=M(e),Y&&(Y.c(),Y.m(he,null))),H[0]&32&&U(he,"background-color",e[30].userApproval?q(e[30].decision,e[30].userApproval):((Tt=e[30].cellColors)==null?void 0:Tt.replaces)||q(e[30].decision,e[30].userApproval)),H[0]&32&&ge!==(ge=e[10](e[30]))&&p(n,"class",ge),H[0]&32&&v!==(v=e[30].id)&&p(n,"data-tdoc-id",v),H[0]&33&&Qe(n,"row-selected",e[0]===e[30].id)},d(Q){Q&&V(n),le.d(),ie.d(),A.d(),Y.d(),D=!1,Ie(Ce)}}}function Pt(t,e){let n,l,o,r=(e[27].agenda||"No Agenda")+"",i,u,f=(e[27].topic||"No Topic")+"",s,c,d=[],_=new Map,O,y=Me(e[27].tdocs);const E=h=>h[30].id;for(let h=0;h<y.length;h+=1){let b=It(e,y,h),S=E(b);_.set(S,d[h]=Vt(S,b))}return{key:t,first:null,c(){n=g("tr"),l=g("td"),o=g("strong"),i=I(r),u=I(" - "),s=I(f),c=L();for(let h=0;h<d.length;h+=1)d[h].c();O=st(),p(l,"colspan","13"),p(n,"class","section-header"),U(n,"top",e[2]+"px"),this.first=n},m(h,b){G(h,n,b),a(n,l),a(l,o),a(o,i),a(o,u),a(o,s),G(h,c,b);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(h,b);G(h,O,b)},p(h,b){e=h,b[0]&32&&r!==(r=(e[27].agenda||"No Agenda")+"")&&x(i,r),b[0]&32&&f!==(f=(e[27].topic||"No Topic")+"")&&x(s,f),b[0]&4&&U(n,"top",e[2]+"px"),b[0]&2041&&(y=Me(e[27].tdocs),d=pt(d,b,E,1,e,y,_,O.parentNode,dt,Vt,O,It))},d(h){h&&(V(n),V(c),V(O));for(let b=0;b<d.length;b+=1)d[b].d(h)}}}function Kn(t){let e,n,l,o,r,i,u;function f(d,_){return d[5]&&d[5].length>0?Mn:In}let s=f(t),c=s(t);return{c(){e=g("div"),n=g("table"),l=g("thead"),l.innerHTML="<tr><th>TDoc</th> <th>Title</th> <th>Source</th> <th>Type</th> <th>For</th> <th>Avail</th> <th>Treated</th> <th>Decision</th> <th>My Approval</th> <th>My Comments</th> <th>Wdrn</th> <th>Replaced-by</th> <th>Replaces</th></tr>",o=L(),r=g("tbody"),c.c(),p(n,"class","data-table"),p(e,"class","table-container")},m(d,_){G(d,e,_),a(e,n),a(n,l),t[15](l),a(n,o),a(n,r),c.m(r,null),i||(u=K(window,"click",t[11]),i=!0)},p(d,_){s===(s=f(d))&&c?c.p(d,_):(c.d(1),c=s(d),c&&(c.c(),c.m(r,null)))},i:ke,o:ke,d(d){d&&V(e),t[15](null),c.d(),i=!1,u()}}}function ht(t,e){if(t.stopPropagation(),e&&e.startsWith("#")){t.preventDefault();const n=e.substring(1),l=document.querySelector(`[data-tdoc-id*="${n}"]`);l&&(l.scrollIntoView({behavior:"smooth",block:"center"}),l.style.backgroundColor="#fff3cd",setTimeout(()=>{l.style.backgroundColor=""},2e3))}}function q(t,e){const n={approved:"#99FF33",revised:"#99FF33",merged:"#99FF33","replied to":"#99FF33","not pursued":"#99FF33",postponed:"#99FF33",available:"#FFFF99",reserved:"#FF8566",default:"#FFFFFF"};if(e&&e.trim()!==""){const l={approved:"#99FF33",agreed:"#99FF33",noted:"#99FF33",revised:"#99FF33","replied to":"#99FF33",postponed:"#99FF33","not pursued":"#99FF33"},o=e.toLowerCase().trim();return l[o]||n.default}return n[t==null?void 0:t.toLowerCase()]||n.default}function ct(t,e=.8){const n=t.replace("#",""),l=parseInt(n.substr(0,2),16),o=parseInt(n.substr(2,2),16),r=parseInt(n.substr(4,2),16),i=Math.floor(l*e),u=Math.floor(o*e),f=Math.floor(r*e);return`#${i.toString(16).padStart(2,"0")}${u.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}`}function jn(t){if(!t||t.length===0)return[];const e=[];let n="",l="",o=null,r=0;const i=t.map(u=>{const f=u.inheritedAgenda||u.agenda||"",s=u.inheritedTopic||u.topic||"";return{...u,effectiveAgenda:f.trim(),effectiveTopic:s.trim()}});for(const u of i){const{effectiveAgenda:f,effectiveTopic:s}=u;(f!==n||s!==l||!o)&&(n=f,l=s,o={key:`${`${n}-${l}`}-${r}`,agenda:n||"No Agenda",topic:l||"No Topic",tdocs:[]},e.push(o),r++),o.tdocs.push({...u,inheritedAgenda:n,inheritedTopic:l})}return e}const Jn=t=>t.stopPropagation();function Yn(t,e,n){let l,{tdocs:o}=e,{selectedRowId:r}=e,{onRowSelect:i}=e,{onCommentsUpdate:u}=e,f,s=35,c=null,d={x:0,y:0};function _(T){i(T.id)}function O(T,j){const P=T.target.textContent;u(j,P)}function y(T,j){j.stopPropagation(),c===T?n(3,c=null):(n(3,c=T),E(j.target))}function E(T){if(!T)return;const j=T.getBoundingClientRect();n(4,d={x:j.right+10,y:Math.max(j.top-10,60)})}function h(){if(c){const T=document.querySelector(`[data-tooltip-id="${c}"] .comment-icon`);T&&E(T)}}function b(){n(3,c=null)}function S(T){let j=[];return T.originalColorClass&&!T.userApproval&&j.push(T.originalColorClass),r===T.id&&j.push("selected"),j.join(" ")}function W(){if(f){const T=f.getBoundingClientRect();n(2,s=Math.ceil(T.height))}}gt(()=>{W()}),gn(()=>{W()});function w(T){T.target.closest(".treated-cell")||n(3,c=null)}gt(()=>{const T=document.querySelector(".table-container");if(T)return T.addEventListener("scroll",h),()=>T.removeEventListener("scroll",h)});function F(T){Be[T?"unshift":"push"](()=>{f=T,n(1,f)})}const N=(T,j)=>ht(j,T.tdocHref),C=(T,j)=>y(T.id,j),B=(T,j)=>O(j,T.id),z=T=>{T.target.isContentEditable&&document.activeElement===T.target&&T.stopPropagation()},J=(T,j)=>ht(j,T.replacedByHref),re=(T,j)=>ht(j,T.replacesHref),ee=T=>_(T),te=(T,j)=>j.key==="Enter"&&_(T);return t.$$set=T=>{"tdocs"in T&&n(12,o=T.tdocs),"selectedRowId"in T&&n(0,r=T.selectedRowId),"onRowSelect"in T&&n(13,i=T.onRowSelect),"onCommentsUpdate"in T&&n(14,u=T.onCommentsUpdate)},t.$$.update=()=>{t.$$.dirty[0]&4096&&n(5,l=o&&o.length>0?jn(o):[])},[r,f,s,c,d,l,_,O,y,b,S,w,o,i,u,F,N,C,B,z,J,re,ee,te]}class Qn extends ut{constructor(e){super(),at(this,e,Yn,Kn,it,{tdocs:12,selectedRowId:0,onRowSelect:13,onCommentsUpdate:14},null,[-1,-1])}}function Gt(t,e,n){const l=t.slice();return l[29]=e[n],l}function Ut(t){let e,n=t[29].label+"",l,o,r,i;function u(){return t[17](t[29])}return{c(){e=g("button"),l=I(n),p(e,"class","btn "+t[29].class),e.disabled=o=!t[8]},m(f,s){G(f,e,s),a(e,l),r||(i=K(e,"click",u),r=!0)},p(f,s){t=f,s[0]&256&&o!==(o=!t[8])&&(e.disabled=o)},d(f){f&&V(e),r=!1,i()}}}function Zt(t){let e,n,l,o,r;return{c(){e=g("button"),n=I("Reply LS"),p(e,"class","btn"),e.disabled=l=!t[1],p(e,"title","Reply to LS In with LS Out")},m(i,u){G(i,e,u),a(e,n),o||(r=K(e,"click",t[18]),o=!0)},p(i,u){u[0]&2&&l!==(l=!i[1])&&(e.disabled=l)},d(i){i&&V(e),o=!1,r()}}}function qt(t){let e,n,l,o,r;return{c(){e=g("button"),n=I("Clear"),p(e,"class","btn"),e.disabled=l=!t[1],p(e,"title","Clear user approval and revert to original decision state")},m(i,u){G(i,e,u),a(e,n),o||(r=K(e,"click",t[19]),o=!0)},p(i,u){u[0]&2&&l!==(l=!i[1])&&(e.disabled=l)},d(i){i&&V(e),o=!1,r()}}}function zt(t){let e,n,l;return{c(){e=g("button"),e.textContent="☰",p(e,"class","btn hamburger-btn"),p(e,"title","Toggle sidebar")},m(o,r){G(o,e,r),n||(l=K(e,"click",function(){rt(t[7])&&t[7].apply(this,arguments)}),n=!0)},p(o,r){t=o},d(o){o&&V(e),n=!1,l()}}}function Xn(t){var Y;let e,n,l,o,r,i,u,f,s,c,d=t[5]&&t[5].type.toLowerCase().includes("ls in")&&t[8]&&!t[5].userApproval&&((Y=t[5].decision)==null?void 0:Y.toLowerCase())!=="replied to",_,O,y,E,h,b,S,W,w,F,N,C,B,z,J,re,ee,te,T,j,P,oe,ae,ve,$,ue,Re,ye,ne,Oe,Fe,pe,_e,Se,he,ce,ge,v,D,Ce,Te,me,le,Ne,fe,ie,Le,m=Me(t[9]),R=[];for(let Z=0;Z<m.length;Z+=1)R[Z]=Ut(Gt(t,m,Z));let A=d&&Zt(t),k=t[5]&&t[5].userApproval&&qt(t),M=t[7]&&zt(t);return{c(){e=g("div"),n=g("input"),l=L(),o=g("div"),r=g("div"),i=g("button"),i.textContent="Load HTML",u=L(),f=g("div"),s=L();for(let Z=0;Z<R.length;Z+=1)R[Z].c();c=L(),A&&A.c(),_=L(),k&&k.c(),O=L(),M&&M.c(),y=L(),E=g("div"),h=g("div"),b=g("span"),b.textContent="Decision:",S=L(),W=g("button"),w=I("All"),N=L(),C=g("button"),B=I("🟡 Available"),J=L(),re=g("button"),ee=I("🔴 Reserved"),T=L(),j=g("button"),P=I("🟢 Approved"),ae=L(),ve=g("button"),$=I("🟢 Revised"),Re=L(),ye=g("button"),ne=I("🟡 Postponed"),Fe=L(),pe=g("button"),_e=I("⚫ Withdrawn"),he=L(),ce=g("div"),ge=g("span"),ge.textContent="My Approval:",v=L(),D=g("button"),Ce=I("✓ Has Approval"),me=L(),le=g("button"),Ne=I("✗ No Approval"),p(n,"type","file"),p(n,"accept",".html,.htm"),U(n,"display","none"),p(i,"class","btn"),p(f,"class","separator"),p(r,"class","action-left"),p(o,"class","action-row"),p(b,"class","filter-label"),p(W,"class",F="btn filter-btn "+(t[6]==="all"?"active":"")),p(C,"class",z="btn filter-btn "+(t[6]==="available"?"active":"")),p(re,"class",te="btn filter-btn "+(t[6]==="reserved"?"active":"")),p(j,"class",oe="btn filter-btn "+(t[6]==="approved"?"active":"")),p(ve,"class",ue="btn filter-btn "+(t[6]==="revised"?"active":"")),p(ye,"class",Oe="btn filter-btn "+(t[6]==="postponed"?"active":"")),p(pe,"class",Se="btn filter-btn "+(t[6]==="withdrawn"?"active":"")),p(h,"class","filter-group"),p(ge,"class","filter-label"),p(D,"class",Te="btn filter-btn "+(t[6]==="has-approval"?"active":"")),p(le,"class",fe="btn filter-btn "+(t[6]==="no-approval"?"active":"")),p(ce,"class","filter-group"),p(E,"class","filter-row"),p(e,"class","toolbar")},m(Z,X){G(Z,e,X),a(e,n),t[16](n),a(e,l),a(e,o),a(o,r),a(r,i),a(r,u),a(r,f),a(r,s);for(let Q=0;Q<R.length;Q+=1)R[Q]&&R[Q].m(r,null);a(r,c),A&&A.m(r,null),a(r,_),k&&k.m(r,null),a(o,O),M&&M.m(o,null),a(e,y),a(e,E),a(E,h),a(h,b),a(h,S),a(h,W),a(W,w),a(h,N),a(h,C),a(C,B),a(h,J),a(h,re),a(re,ee),a(h,T),a(h,j),a(j,P),a(h,ae),a(h,ve),a(ve,$),a(h,Re),a(h,ye),a(ye,ne),a(h,Fe),a(h,pe),a(pe,_e),a(E,he),a(E,ce),a(ce,ge),a(ce,v),a(ce,D),a(D,Ce),a(ce,me),a(ce,le),a(le,Ne),ie||(Le=[K(n,"change",function(){rt(t[2])&&t[2].apply(this,arguments)}),K(i,"click",t[11]),K(W,"click",t[20]),K(C,"click",t[21]),K(re,"click",t[22]),K(j,"click",t[23]),K(ve,"click",t[24]),K(ye,"click",t[25]),K(pe,"click",t[26]),K(D,"click",t[27]),K(le,"click",t[28])],ie=!0)},p(Z,X){var Q;if(t=Z,X[0]&1792){m=Me(t[9]);let H;for(H=0;H<m.length;H+=1){const He=Gt(t,m,H);R[H]?R[H].p(He,X):(R[H]=Ut(He),R[H].c(),R[H].m(r,c))}for(;H<R.length;H+=1)R[H].d(1);R.length=m.length}X[0]&288&&(d=t[5]&&t[5].type.toLowerCase().includes("ls in")&&t[8]&&!t[5].userApproval&&((Q=t[5].decision)==null?void 0:Q.toLowerCase())!=="replied to"),d?A?A.p(t,X):(A=Zt(t),A.c(),A.m(r,_)):A&&(A.d(1),A=null),t[5]&&t[5].userApproval?k?k.p(t,X):(k=qt(t),k.c(),k.m(r,null)):k&&(k.d(1),k=null),t[7]?M?M.p(t,X):(M=zt(t),M.c(),M.m(o,null)):M&&(M.d(1),M=null),X[0]&64&&F!==(F="btn filter-btn "+(t[6]==="all"?"active":""))&&p(W,"class",F),X[0]&64&&z!==(z="btn filter-btn "+(t[6]==="available"?"active":""))&&p(C,"class",z),X[0]&64&&te!==(te="btn filter-btn "+(t[6]==="reserved"?"active":""))&&p(re,"class",te),X[0]&64&&oe!==(oe="btn filter-btn "+(t[6]==="approved"?"active":""))&&p(j,"class",oe),X[0]&64&&ue!==(ue="btn filter-btn "+(t[6]==="revised"?"active":""))&&p(ve,"class",ue),X[0]&64&&Oe!==(Oe="btn filter-btn "+(t[6]==="postponed"?"active":""))&&p(ye,"class",Oe),X[0]&64&&Se!==(Se="btn filter-btn "+(t[6]==="withdrawn"?"active":""))&&p(pe,"class",Se),X[0]&64&&Te!==(Te="btn filter-btn "+(t[6]==="has-approval"?"active":""))&&p(D,"class",Te),X[0]&64&&fe!==(fe="btn filter-btn "+(t[6]==="no-approval"?"active":""))&&p(le,"class",fe)},i:ke,o:ke,d(Z){Z&&V(e),t[16](null),dn(R,Z),A&&A.d(),k&&k.d(),M&&M.d(),ie=!1,Ie(Le)}}}function $n(t,e,n){let l,{selectedRowId:o}=e,{onApprovalClick:r}=e,{onFileUpload:i}=e,{onRevision:u}=e,{onLsReply:f}=e,{onClearApproval:s}=e,{onFilterChange:c}=e,{currentTdoc:d=null}=e,{fileInput:_}=e,{currentFilter:O="all"}=e,{onToggleSidebar:y=null}=e;const E=[{key:"approved",label:"Approve",class:"btn-approved"},{key:"agreed",label:"Agree",class:"btn-agreed"},{key:"noted",label:"Note",class:"btn-noted"},{key:"revised",label:"Revise",class:"btn-revised"},{key:"postponed",label:"Postpone",class:"btn-postponed"},{key:"not_pursued",label:"Not Pursue",class:"btn-not-pursued"}];function h(P){P==="revised"?u(o):r(P)}function b(){_==null||_.click()}function S(P){c(P)}function W(P){Be[P?"unshift":"push"](()=>{_=P,n(0,_)})}const w=P=>h(P.key),F=()=>f(o),N=()=>s(o),C=()=>S("all"),B=()=>S("available"),z=()=>S("reserved"),J=()=>S("approved"),re=()=>S("revised"),ee=()=>S("postponed"),te=()=>S("withdrawn"),T=()=>S("has-approval"),j=()=>S("no-approval");return t.$$set=P=>{"selectedRowId"in P&&n(1,o=P.selectedRowId),"onApprovalClick"in P&&n(13,r=P.onApprovalClick),"onFileUpload"in P&&n(2,i=P.onFileUpload),"onRevision"in P&&n(14,u=P.onRevision),"onLsReply"in P&&n(3,f=P.onLsReply),"onClearApproval"in P&&n(4,s=P.onClearApproval),"onFilterChange"in P&&n(15,c=P.onFilterChange),"currentTdoc"in P&&n(5,d=P.currentTdoc),"fileInput"in P&&n(0,_=P.fileInput),"currentFilter"in P&&n(6,O=P.currentFilter),"onToggleSidebar"in P&&n(7,y=P.onToggleSidebar)},t.$$.update=()=>{t.$$.dirty[0]&34&&n(8,l=(()=>{if(!o||!d)return!1;const P=d.decision;if(!P)return!0;const oe=P.toLowerCase().trim();return!(!["available","reserved"].includes(oe)||d.userApproval==="revised"||d.userApproval==="replied to")})())},[_,o,i,f,s,d,O,y,l,E,h,b,S,r,u,c,W,w,F,N,C,B,z,J,re,ee,te,T,j]}class xn extends ut{constructor(e){super(),at(this,e,$n,Xn,it,{selectedRowId:1,onApprovalClick:13,onFileUpload:2,onRevision:14,onLsReply:3,onClearApproval:4,onFilterChange:15,currentTdoc:5,fileInput:0,currentFilter:6,onToggleSidebar:7},null,[-1,-1])}}function Wt(t){let e,n,l,o,r,i,u,f,s,c,d,_,O,y,E,h,b,S;const W=t[13].default,w=an(W,t,t[12],null),F=w||el(t);let N=t[4]&&Kt(t);return{c(){e=g("div"),n=g("div"),l=g("form"),o=g("div"),r=g("h3"),i=I(t[1]),u=L(),f=g("button"),f.textContent="×",s=L(),c=g("div"),F&&F.c(),d=L(),_=g("div"),N&&N.c(),O=L(),y=g("button"),E=I(t[2]),p(r,"class","svelte-1udaypd"),p(f,"type","button"),p(f,"class","modal-close svelte-1udaypd"),p(f,"aria-label","Close"),p(o,"class","modal-header svelte-1udaypd"),p(c,"class","modal-body svelte-1udaypd"),p(y,"type","submit"),p(y,"class","btn btn-primary svelte-1udaypd"),p(_,"class","modal-footer svelte-1udaypd"),p(n,"class","modal-content svelte-1udaypd"),p(n,"role","document"),p(e,"class","modal-overlay svelte-1udaypd"),p(e,"role","dialog"),p(e,"aria-modal","true")},m(C,B){G(C,e,B),a(e,n),a(n,l),a(l,o),a(o,r),a(r,i),a(o,u),a(o,f),a(l,s),a(l,c),F&&F.m(c,null),a(l,d),a(l,_),N&&N.m(_,null),a(_,O),a(_,y),a(y,E),h=!0,b||(S=[K(f,"click",t[7]),K(l,"submit",pn(t[8])),K(n,"click",mn(t[14])),K(e,"click",t[7])],b=!0)},p(C,B){(!h||B&2)&&x(i,C[1]),w?w.p&&(!h||B&4096)&&cn(w,W,C,C[12],h?un(W,C[12],B,null):fn(C[12]),null):F&&F.p&&(!h||B&96)&&F.p(C,h?B:-1),C[4]?N?N.p(C,B):(N=Kt(C),N.c(),N.m(_,O)):N&&(N.d(1),N=null),(!h||B&4)&&x(E,C[2])},i(C){h||(Ae(F,C),h=!0)},o(C){De(F,C),h=!1},d(C){C&&V(e),F&&F.d(C),N&&N.d(),b=!1,Ie(S)}}}function el(t){let e,n,l;return{c(){e=g("input"),p(e,"type","text"),p(e,"class","modal-input svelte-1udaypd"),p(e,"placeholder","Enter value...")},m(o,r){G(o,e,r),t[15](e),$e(e,t[6]),n||(l=K(e,"input",t[16]),n=!0)},p(o,r){r&64&&e.value!==o[6]&&$e(e,o[6])},d(o){o&&V(e),t[15](null),n=!1,l()}}}function Kt(t){let e,n,l,o;return{c(){e=g("button"),n=I(t[3]),p(e,"type","button"),p(e,"class","btn btn-secondary svelte-1udaypd")},m(r,i){G(r,e,i),a(e,n),l||(o=K(e,"click",t[7]),l=!0)},p(r,i){i&8&&x(n,r[3])},d(r){r&&V(e),l=!1,o()}}}function tl(t){let e,n,l,o,r=t[0]&&Wt(t);return{c(){r&&r.c(),e=st()},m(i,u){r&&r.m(i,u),G(i,e,u),n=!0,l||(o=K(window,"keydown",t[9]),l=!0)},p(i,[u]){i[0]?r?(r.p(i,u),u&1&&Ae(r,1)):(r=Wt(i),r.c(),Ae(r,1),r.m(e.parentNode,e)):r&&(en(),De(r,1,1,()=>{r=null}),tn())},i(i){n||(Ae(r),n=!0)},o(i){De(r),n=!1},d(i){i&&V(e),r&&r.d(i),l=!1,o()}}}function nl(t,e,n){let{$$slots:l={},$$scope:o}=e,{isOpen:r=!1}=e,{title:i=""}=e,{onClose:u=()=>{}}=e,{onConfirm:f=null}=e,{confirmText:s="OK"}=e,{cancelText:c="Cancel"}=e,{showCancel:d=!0}=e,_="",O;function y(){n(0,r=!1),n(6,_=""),u()}function E(){f&&f(_),y()}function h(w){r&&(w.key==="Escape"?(w.preventDefault(),w.stopPropagation(),y()):w.key==="Enter"&&w.target.closest(".modal-content")&&(w.preventDefault(),w.stopPropagation(),E()))}function b(w){vn.call(this,t,w)}function S(w){Be[w?"unshift":"push"](()=>{O=w,n(5,O)})}function W(){_=this.value,n(6,_)}return t.$$set=w=>{"isOpen"in w&&n(0,r=w.isOpen),"title"in w&&n(1,i=w.title),"onClose"in w&&n(10,u=w.onClose),"onConfirm"in w&&n(11,f=w.onConfirm),"confirmText"in w&&n(2,s=w.confirmText),"cancelText"in w&&n(3,c=w.cancelText),"showCancel"in w&&n(4,d=w.showCancel),"$$scope"in w&&n(12,o=w.$$scope)},t.$$.update=()=>{t.$$.dirty&33&&r&&O&&setTimeout(()=>O.focus(),100)},[r,i,s,c,d,O,_,y,E,h,u,f,o,l,b,S,W]}class nt extends ut{constructor(e){super(),at(this,e,nl,tl,it,{isOpen:0,title:1,onClose:10,onConfirm:11,confirmText:2,cancelText:3,showCancel:4})}}const{window:jt}=$t;function ll(t){let e;return{c(){e=g("div"),e.innerHTML='<div style="display: flex; align-items: center; justify-content: center; height: 100%; padding: 40px;"><div style="text-align: center; color: #666; font-size: 16px;"><h3 style="margin-bottom: 16px; color: #333;">Welcome to 3GPP TDoc Tracker</h3> <p style="margin-bottom: 8px;">No data loaded. Please upload an HTML file to get started.</p> <p style="font-size: 14px; color: #999;">Upload a 3GPP HTML agenda file to begin tracking TDoc approvals.</p></div></div>',p(e,"class","table-container")},m(n,l){G(n,e,l)},p:ke,i:ke,o:ke,d(n){n&&V(e)}}}function ol(t){let e,n;return e=new Qn({props:{tdocs:t[16],selectedRowId:t[3],onRowSelect:t[24],onCommentsUpdate:t[29]}}),{c(){ze(e.$$.fragment)},m(l,o){Ve(e,l,o),n=!0},p(l,o){const r={};o[0]&65536&&(r.tdocs=l[16]),o[0]&8&&(r.selectedRowId=l[3]),e.$set(r)},i(l){n||(Ae(e.$$.fragment,l),n=!0)},o(l){De(e.$$.fragment,l),n=!1},d(l){Pe(e,l)}}}function Jt(t){let e,n,l;return{c(){e=g("div"),p(e,"class","sidebar-overlay")},m(o,r){G(o,e,r),n||(l=K(e,"click",t[34]),n=!0)},p:ke,d(o){o&&V(e),n=!1,l()}}}function rl(t){let e,n,l,o,r,i,u,f;return{c(){e=g("div"),n=g("label"),n.textContent="New TDoc Number:",l=L(),o=g("input"),r=L(),i=g("p"),i.textContent=`Enter the full TDoc number or edit the prefilled prefix and add the
      remaining 4 digits.`,p(n,"for","revision-tdoc-input"),p(o,"id","revision-tdoc-input"),p(o,"type","text"),p(o,"class","modal-input"),p(o,"placeholder","Enter TDoc number..."),U(i,"font-size","12px"),U(i,"color","#666"),U(i,"margin-top","8px")},m(s,c){G(s,e,c),a(e,n),a(e,l),a(e,o),$e(o,t[14]),a(e,r),a(e,i),u||(f=K(o,"input",t[39]),u=!0)},p(s,c){c[0]&16384&&o.value!==s[14]&&$e(o,s[14])},d(s){s&&V(e),u=!1,f()}}}function il(t){let e,n,l,o,r,i,u,f;return{c(){e=g("div"),n=g("label"),n.textContent="LS Out Number:",l=L(),o=g("input"),r=L(),i=g("p"),i.textContent=`Enter the full LS Out number or edit the prefilled prefix and add the
      remaining digits.`,p(n,"for","ls-out-input"),p(o,"id","ls-out-input"),p(o,"type","text"),p(o,"class","modal-input"),p(o,"placeholder","Enter LS Out number..."),U(i,"font-size","12px"),U(i,"color","#666"),U(i,"margin-top","8px")},m(s,c){G(s,e,c),a(e,n),a(e,l),a(e,o),$e(o,t[15]),a(e,r),a(e,i),u||(f=K(o,"input",t[41]),u=!0)},p(s,c){c[0]&32768&&o.value!==s[15]&&$e(o,s[15])},d(s){s&&V(e),u=!1,f()}}}function sl(t){let e,n=(t[13]?t[0].indexOf(t[13])+1:1)+"",l,o;return{c(){e=I("Are you sure you want to delete version v"),l=I(n),o=I("? This cannot be undone.")},m(r,i){G(r,e,i),G(r,l,i),G(r,o,i)},p(r,i){i[0]&8193&&n!==(n=(r[13]?r[0].indexOf(r[13])+1:1)+"")&&x(l,n)},d(r){r&&(V(e),V(l),V(o))}}}function al(t){let e;return{c(){e=I(`Are you sure you want to delete all current data? This will remove all
    versions and allow you to start fresh with a new agenda. This cannot be
    undone.`)},m(n,l){G(n,e,l)},p:ke,d(n){n&&V(e)}}}function ul(t){let e;function n(r,i){return r[0].length<=1?al:sl}let l=n(t),o=l(t);return{c(){o.c(),e=st()},m(r,i){o.m(r,i),G(r,e,i)},p(r,i){l===(l=n(r))&&o?o.p(r,i):(o.d(1),o=l(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&V(e),o.d(r)}}}function cl(t){let e;return{c(){e=I("Are you sure you want to reload the app? Unsaved changes will be lost.")},m(n,l){G(n,e,l)},d(n){n&&V(e)}}}function fl(t){let e;return{c(){e=I(t[12])},m(n,l){G(n,e,l)},p(n,l){l[0]&4096&&x(e,n[12])},d(n){n&&V(e)}}}function dl(t){var ce,ge;let e,n,l,o,r,i,u,f,s,c,d,_,O,y,E,h,b,S,W,w,F,N,C,B,z,J,re,ee,te,T;function j(v){t[38](v)}let P={selectedRowId:t[3],currentTdoc:t[3]?(ge=(ce=t[1])==null?void 0:ce.tdocs)==null?void 0:ge.find(t[37]):null,onApprovalClick:t[23],onFileUpload:t[20],onRevision:t[25],onLsReply:t[27],onClearApproval:t[30],onFilterChange:t[33],onToggleSidebar:t[34],currentFilter:t[2]};t[4]!==void 0&&(P.fileInput=t[4]),l=new xn({props:P}),Be.push(()=>Je(l,"fileInput",j));const oe=[ol,ll],ae=[];function ve(v,D){return v[1]?0:1}i=ve(t),u=ae[i]=oe[i](t);let $=t[6]&&Jt(t);d=new Bn({props:{versions:t[0],currentVersion:t[1],filteredTdocs:t[16],onVersionSelect:t[21],onAgendaJump:t[22],onSave:t[17],onExportHtml:t[35],onDeleteVersion:t[31],hasUnsavedChanges:t[5]}});function ue(v){t[40](v)}let Re={title:"Create Revision",onConfirm:t[26],confirmText:"Create Revision",$$slots:{default:[rl]},$$scope:{ctx:t}};t[7]!==void 0&&(Re.isOpen=t[7]),y=new nt({props:Re}),Be.push(()=>Je(y,"isOpen",ue));function ye(v){t[42](v)}let ne={title:"Reply to LS In",onConfirm:t[28],confirmText:"Create Reply",$$slots:{default:[il]},$$scope:{ctx:t}};t[8]!==void 0&&(ne.isOpen=t[8]),b=new nt({props:ne}),Be.push(()=>Je(b,"isOpen",ye));function Oe(v){t[43](v)}let Fe={title:t[0].length<=1?"Delete Data":"Delete Version",onConfirm:t[32],confirmText:"Delete",showCancel:!0,$$slots:{default:[ul]},$$scope:{ctx:t}};t[9]!==void 0&&(Fe.isOpen=t[9]),w=new nt({props:Fe}),Be.push(()=>Je(w,"isOpen",Oe));function pe(v){t[44](v)}let _e={title:"Reload Application",onConfirm:ml,confirmText:"Reload",showCancel:!0,$$slots:{default:[cl]},$$scope:{ctx:t}};t[10]!==void 0&&(_e.isOpen=t[10]),C=new nt({props:_e}),Be.push(()=>Je(C,"isOpen",pe));function Se(v){t[45](v)}let he={title:"Error",onConfirm:vl,confirmText:"OK",showCancel:!1,$$slots:{default:[fl]},$$scope:{ctx:t}};return t[11]!==void 0&&(he.isOpen=t[11]),J=new nt({props:he}),Be.push(()=>Je(J,"isOpen",Se)),{c(){e=g("div"),n=g("div"),ze(l.$$.fragment),r=L(),u.c(),f=L(),$&&$.c(),s=L(),c=g("div"),ze(d.$$.fragment),O=L(),ze(y.$$.fragment),h=L(),ze(b.$$.fragment),W=L(),ze(w.$$.fragment),N=L(),ze(C.$$.fragment),z=L(),ze(J.$$.fragment),p(n,"class","main-content"),p(c,"class",_="sidebar "+(t[6]?"visible":"")),p(e,"class","app-container")},m(v,D){G(v,e,D),a(e,n),Ve(l,n,null),a(n,r),ae[i].m(n,null),a(e,f),$&&$.m(e,null),a(e,s),a(e,c),Ve(d,c,null),G(v,O,D),Ve(y,v,D),G(v,h,D),Ve(b,v,D),G(v,W,D),Ve(w,v,D),G(v,N,D),Ve(C,v,D),G(v,z,D),Ve(J,v,D),ee=!0,te||(T=[K(jt,"keydown",t[18]),K(jt,"beforeunload",t[19])],te=!0)},p(v,D){var m,R;const Ce={};D[0]&8&&(Ce.selectedRowId=v[3]),D[0]&10&&(Ce.currentTdoc=v[3]?(R=(m=v[1])==null?void 0:m.tdocs)==null?void 0:R.find(v[37]):null),D[0]&4&&(Ce.currentFilter=v[2]),!o&&D[0]&16&&(o=!0,Ce.fileInput=v[4],Ke(()=>o=!1)),l.$set(Ce);let Te=i;i=ve(v),i===Te?ae[i].p(v,D):(en(),De(ae[Te],1,1,()=>{ae[Te]=null}),tn(),u=ae[i],u?u.p(v,D):(u=ae[i]=oe[i](v),u.c()),Ae(u,1),u.m(n,null)),v[6]?$?$.p(v,D):($=Jt(v),$.c(),$.m(e,s)):$&&($.d(1),$=null);const me={};D[0]&1&&(me.versions=v[0]),D[0]&2&&(me.currentVersion=v[1]),D[0]&65536&&(me.filteredTdocs=v[16]),D[0]&32&&(me.hasUnsavedChanges=v[5]),d.$set(me),(!ee||D[0]&64&&_!==(_="sidebar "+(v[6]?"visible":"")))&&p(c,"class",_);const le={};D[0]&16384|D[1]&67108864&&(le.$$scope={dirty:D,ctx:v}),!E&&D[0]&128&&(E=!0,le.isOpen=v[7],Ke(()=>E=!1)),y.$set(le);const Ne={};D[0]&32768|D[1]&67108864&&(Ne.$$scope={dirty:D,ctx:v}),!S&&D[0]&256&&(S=!0,Ne.isOpen=v[8],Ke(()=>S=!1)),b.$set(Ne);const fe={};D[0]&1&&(fe.title=v[0].length<=1?"Delete Data":"Delete Version"),D[0]&8193|D[1]&67108864&&(fe.$$scope={dirty:D,ctx:v}),!F&&D[0]&512&&(F=!0,fe.isOpen=v[9],Ke(()=>F=!1)),w.$set(fe);const ie={};D[1]&67108864&&(ie.$$scope={dirty:D,ctx:v}),!B&&D[0]&1024&&(B=!0,ie.isOpen=v[10],Ke(()=>B=!1)),C.$set(ie);const Le={};D[0]&4096|D[1]&67108864&&(Le.$$scope={dirty:D,ctx:v}),!re&&D[0]&2048&&(re=!0,Le.isOpen=v[11],Ke(()=>re=!1)),J.$set(Le)},i(v){ee||(Ae(l.$$.fragment,v),Ae(u),Ae(d.$$.fragment,v),Ae(y.$$.fragment,v),Ae(b.$$.fragment,v),Ae(w.$$.fragment,v),Ae(C.$$.fragment,v),Ae(J.$$.fragment,v),ee=!0)},o(v){De(l.$$.fragment,v),De(u),De(d.$$.fragment,v),De(y.$$.fragment,v),De(b.$$.fragment,v),De(w.$$.fragment,v),De(C.$$.fragment,v),De(J.$$.fragment,v),ee=!1},d(v){v&&(V(e),V(O),V(h),V(W),V(N),V(z)),Pe(l),ae[i].d(),$&&$.d(),Pe(d),Pe(y,v),Pe(b,v),Pe(w,v),Pe(C,v),Pe(J,v),te=!1,Ie(T)}}}const Yt="1.0.0",pl=3e4;function ml(){window.location.reload()}function _l(t){return t.toISOString().slice(0,19).replace("T","_").replace(/:/g,"h")}function hl(t){const e=new Date,n=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");let f=`<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=UTF-8">
<TITLE>TDoc list</TITLE>
<style>
/* Tooltip container */
.tooltip {
    position: relative;
    display: inline-block;
    border-bottom: 1px dotted black; /* dots under the hoverable text */
}

/* Tooltip text */
.tooltip .tooltiptext {
    visibility: hidden;
    width: 300px;
    background-color: black;
    color: #fff;
    text-align: left;
    padding: 5px 5px;
    border-radius: 6px;
 
    /* Position the tooltip text */
    position: absolute;
    z-index: 1;
    top: -5px;
    right: 105%;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
    visibility: visible;
}
</style>
</HEAD>

<BODY>
<P><FONT FACE="Arial" COLOR=#000000><B>Tdoc List</B></FONT></P>
<P><FONT FACE="Arial" COLOR=#000000>${`${n}-${l}-${o} ${r}:${i}`}</FONT></P>

<TABLE BORDER=1 BGCOLOR=#FFFFFF CELLSPACING=0>
<THEAD>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Agenda
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Topic
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
TDoc
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Title
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Source
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Type
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
For
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Avail
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Treated
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Decision
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
My Approval/Comments
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Wdrn
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Replaced-by
</FONT></TH>
<TH BGCOLOR=#FFFFFF BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
Replaces
</FONT></TH>
</THEAD>`;return t.tdocs.forEach(s=>{const c=d=>{var _;return gl(s.decision,s.userApproval,(_=s.cellColors)==null?void 0:_[d])};f+=`
<TR VALIGN=TOP>
<TD BORDERCOLOR=#000000 BGCOLOR=#FFFFFF><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.agenda)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=#FFFFFF><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.topic)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("tdoc")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${s.tdocHref?`<a name="${se(s.tdocNumber)}" target="_blank" href="${s.tdocHref}">${se(s.tdocNumber)}</a>`:se(s.tdocNumber)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("title")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.title)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("source")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.source)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("type")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.type)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("for")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.for)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("avail")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.avail)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("treated")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${s.treatedTooltip?`<div class="tooltip">${se(s.treated)}<span class="tooltiptext">${se(s.treatedTooltip)}</span></div>`:se(s.treated)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("decision")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.decision)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("decision")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${bl(s)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("wdrn")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${se(s.wdrn)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("replacedBy")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${s.replacedByHref?`<a href="${s.replacedByHref}">${se(s.replacedBy)}</a>`:se(s.replacedBy)}
</FONT></TH>
<TD BORDERCOLOR=#000000 BGCOLOR=${c("replaces")}><FONT style=FONT-SIZE:8pt FACE="Arial" COLOR=#000000>
${s.replacesHref?`<a href="${s.replacesHref}">${se(s.replaces)}</a>`:se(s.replaces)}
</FONT></TH>
</TR>`}),f+=`
</TABLE>
</BODY>
</HTML>`,f}function gl(t,e,n=null){return e&&e.trim()!==""?{approved:"#99FF33",agreed:"#99FF33",noted:"#99FF33",revised:"#99FF33","replied to":"#99FF33",postponed:"#99FF33","not pursued":"#99FF33"}[e.toLowerCase().trim()]||"#FFFFFF":n||{approved:"#99FF33",revised:"#99FF33",merged:"#99FF33","replied to":"#99FF33","not pursued":"#99FF33",postponed:"#99FF33",available:"#FFFF99",reserved:"#FF8566"}[t==null?void 0:t.toLowerCase()]||"#FFFFFF"}function bl(t){const e=t.userApproval||"",n=t.userComments||"";return e&&n?`<div class="tooltip">${se(e)}<span class="tooltiptext">${se(n)}</span></div>`:e?se(e):n?se(n):"&nbsp;"}function se(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#8217;").replace(/'/g,"&#8216;").replace(/"/g,"&#8220;").replace(/"/g,"&#8221;").replace(/–/g,"&#8211;").replace(/—/g,"&#8212;").replace(/‑/g,"&#8209;").replace(/…/g,"&#8230;").replace(/�/g,"&#8217;"):"&nbsp;"}const vl=()=>{};function Ol(t,e,n){let l,o=[],r=null,i=null,u,f=null,s=!1,c=null,d="all",_=!1,O=!1,y=!1,E=!1,h=!1,b=!1,S="",W=null,w=null,F=null,N="",C="";const B={versions:"3gpp-tracker-versions",currentVersion:"3gpp-tracker-current-version",lastSave:"3gpp-tracker-last-save",appVersion:"3gpp-tracker-app-version"};gt(()=>{try{const m=localStorage.getItem(B.appVersion);m&&m!==Yt&&console.log("App version changed, checking for migration...");const R=localStorage.getItem(B.versions),A=localStorage.getItem(B.currentVersion),k=localStorage.getItem(B.lastSave);if(R){const M=JSON.parse(R);Array.isArray(M)&&M.length>0&&(n(0,o=M),A?n(1,r=o.find(Y=>Y.id===A)||o[0]):o.length>0&&n(1,r=o[0]),k&&n(36,f=new Date(k)))}localStorage.setItem(B.appVersion,Yt),re()}catch(m){console.error("Error loading saved data:",m),z()}});function z(){Object.values(B).forEach(m=>{localStorage.removeItem(m)}),n(0,o=[]),n(1,r=null),n(36,f=null)}function J(){if(o.length>0)try{localStorage.setItem(B.versions,JSON.stringify(o)),r&&localStorage.setItem(B.currentVersion,r.id);const m=new Date;localStorage.setItem(B.lastSave,m.toISOString()),n(36,f=m),n(5,s=!1),console.log("State saved successfully")}catch(m){console.error("Error saving state:",m)}}function re(){c&&clearInterval(c),c=setInterval(()=>{s&&o.length>0&&J()},pl)}function ee(){n(5,s=!0)}bn(()=>{c&&clearInterval(c),s&&J()});function te(m){if(m.key==="Enter"){const R=m.target;if(R.closest(".modal-content")||R.isContentEditable||R.hasAttribute("role")&&R.getAttribute("role")==="button")return;m.preventDefault(),m.stopPropagation()}(m.key==="F5"||m.ctrlKey&&m.key==="r")&&s&&(m.preventDefault(),confirm("You have unsaved changes. Are you sure you want to refresh?")&&window.location.reload())}function T(m){if(s)return m.preventDefault(),m.returnValue="You have unsaved changes. Are you sure you want to leave?",m.returnValue}function j(m){const R=m.target.files[0];if(!R)return;const A=new FileReader;A.onload=k=>{try{const M=k.target.result,Y=P(),Z=Rn(o,M,Y);n(0,o=o.map(X=>({...X,isActive:!1}))),n(0,o=[...o,Z]),n(1,r=Z),n(3,i=null)}catch(M){console.error("Error parsing HTML file:",M),n(12,S="Error parsing HTML file: "+M.message),n(11,b=!0)}},A.readAsText(R,"UTF-8")}function P(){return r?r.tdocs.filter(m=>m.userApproval||m.userComments).map(m=>({tdocNumber:m.tdocNumber,userApproval:m.userApproval,userComments:m.userComments})):[]}function oe(m){n(1,r=m),n(3,i=null)}function ae(m){const R=document.querySelector(".table-container");if(!R)return;let A=null;if(m.type==="agenda"){const k=m.text.split(" ")[0];A=l==null?void 0:l.find(M=>(M.inheritedAgenda||M.agenda||"").startsWith(k))}else m.type==="topic"&&(A=l==null?void 0:l.find(k=>{const M=k.inheritedAgenda||k.agenda||"",Y=k.inheritedTopic||k.topic||"";return M===m.parentAgenda&&Y===m.text}));if(A){const k=R.querySelector(`[data-tdoc-id="${A.id}"]`);k&&(k.scrollIntoView({behavior:"smooth",block:"center"}),k.style.backgroundColor="#fff3cd",setTimeout(()=>{k.style.backgroundColor=""},2e3))}}function ve(m){var Y,Z;if(!i)return;const R=r.tdocs.find(X=>X.id===i);if(!R)return;const A=(Z=(Y=R.decision)==null?void 0:Y.toLowerCase())==null?void 0:Z.trim();if(A&&!["available","reserved"].includes(A)){n(12,S=`Cannot apply ${m} to TDoc with decision state: ${R.decision}. Only "available" and "reserved" TDocs can be acted upon.`),n(11,b=!0);return}if(R.userApproval==="revised"){n(12,S='This TDoc has a "revised" approval with a linked child TDoc. Please clear the revised approval first before applying a different action.'),n(11,b=!0);return}if(R.userApproval==="replied to"){n(12,S='This TDoc has a "replied to" approval with a linked LS Out. Please clear the replied to approval first before applying a different action.'),n(11,b=!0);return}const M=m.replace("_"," ");if(M==="revised"){ue(i);return}n(1,r.tdocs=r.tdocs.map(X=>X.id===i?{...X,userApproval:M}:X),r),ee(),n(1,r),n(0,o)}function $(m){n(3,i=i===m?null:m)}function ue(m){W=m,n(14,N=Re()),n(7,O=!0)}function Re(){if(!r||!r.tdocs||r.tdocs.length===0)return"";const m=r.tdocs[0].tdocNumber;if(!m)return"";const R=m.match(/^(.+?)(\d{4})$/);return R?R[1]:m.slice(0,-4)||m}function ye(){if(!r||!r.tdocs||r.tdocs.length===0)return"";const m=r.tdocs[0].tdocNumber;if(!m)return"";const R=m.match(/^(.+?)(\d{4})$/);return R?R[1]:m.slice(0,-4)||m}function ne(){if(!N||!W)return;const m=N.trim();if(r.tdocs.find(Z=>Z.tdocNumber===m)){n(12,S=`TDoc number "${m}" already exists. Please choose a different number.`),n(11,b=!0);return}const A=r.tdocs.find(Z=>Z.id===W);if(!A)return;const k=`${m}-${Date.now()}`,M={...A,id:k,tdocNumber:m,decision:"reserved",isRevision:!0,parentTdoc:A.tdocNumber,userApproval:null,userComments:"",selected:!1,originalColorClass:"",originalBgColor:"",cellColors:null,replaces:A.tdocNumber,replacesHref:`#${A.tdocNumber}`};n(1,r.tdocs=r.tdocs.map(Z=>Z.id===W?{...Z,replacedBy:m,replacedByHref:`#${m}`,userApproval:"revised"}:Z),r);const Y=r.tdocs.findIndex(Z=>Z.id===W);Y>=0?r.tdocs.splice(Y+1,0,M):r.tdocs.push(M),W=null,n(14,N=""),n(1,r={...r,tdocs:[...r.tdocs]}),n(0,o=[...o])}function Oe(m){var A;const R=r.tdocs.find(k=>k.id===m);if(R){if(((A=R.decision)==null?void 0:A.toLowerCase())==="replied to"){n(12,S=`This LS In has already been replied to (Decision: ${R.decision}). Cannot create another reply.`),n(11,b=!0);return}w=m,n(15,C=ye()),n(8,y=!0)}}function Fe(){if(!C||!w)return;const m=C.trim();if(r.tdocs.find(Z=>Z.tdocNumber===m)){n(12,S=`TDoc number "${m}" already exists. Please choose a different number.`),n(11,b=!0);return}const A=r.tdocs.find(Z=>Z.id===w);if(!A)return;const k=`${m}-${Date.now()}`,M={...A,id:k,tdocNumber:m,title:`Reply to ${A.tdocNumber}`,type:"LS Out",decision:"reserved",originalColorClass:"",cellColors:null,isRevision:!1,parentTdoc:A.tdocNumber,userApproval:null,userComments:"",selected:!1};M.replaces=A.tdocNumber,n(1,r.tdocs=r.tdocs.map(Z=>Z.id===w?{...Z,userApproval:"replied to",replacedBy:m,replacedByHref:`#${m}`}:Z),r);const Y=r.tdocs.findIndex(Z=>Z.id===w);Y>=0?r.tdocs.splice(Y+1,0,M):r.tdocs.push(M),ee(),w=null,n(15,C=""),n(1,r={...r,tdocs:[...r.tdocs]}),n(0,o=[...o])}function pe(m,R){n(1,r.tdocs=r.tdocs.map(A=>A.id===m?{...A,userComments:R}:A),r),n(1,r),n(0,o)}function _e(m){if(!m)return;const R=r.tdocs.find(A=>A.id===m);if(R){if(R.userApproval==="revised"||R.userApproval==="replied to"){const A=R.replacedBy;A&&n(1,r.tdocs=r.tdocs.filter(k=>k.tdocNumber!==A),r),n(1,r.tdocs=r.tdocs.map(k=>k.id===m?{...k,userApproval:null,replacedBy:"",replacedByHref:null}:k),r)}else n(1,r.tdocs=r.tdocs.map(A=>A.id===m?{...A,userApproval:null}:A),r);ee(),n(1,r),n(0,o)}}function Se(m){n(13,F=m),n(9,E=!0)}function he(){if(F){if(o.length<=1){n(0,o=[]),n(1,r=null),n(3,i=null),n(36,f=null),n(5,s=!1),localStorage.removeItem("3gpp-tdoc-versions"),localStorage.removeItem("3gpp-tdoc-lastSave"),n(13,F=null),n(9,E=!1);return}n(0,o=o.filter(m=>m.id!==F.id)),(r==null?void 0:r.id)===F.id&&(n(1,r=o[0]||null),n(3,i=null)),n(13,F=null),ee(),J()}}function ce(m){n(2,d=m),ee()}function ge(){n(6,_=!_)}async function v(){if(!r){n(12,S="No data to export"),n(11,b=!0);return}const m=hl(r),R=`TDoc_Export_${_l(new Date)}.html`;if("showSaveFilePicker"in window)try{const Z=await(await window.showSaveFilePicker({suggestedName:R,types:[{description:"HTML files",accept:{"text/html":[".html"]}}]})).createWritable();await Z.write(m),await Z.close();return}catch(Y){if(Y.name==="AbortError")return;console.error("Save failed:",Y)}const A=new Blob([m],{type:"text/html"}),k=URL.createObjectURL(A),M=document.createElement("a");M.href=k,M.download=R,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(k)}const D=m=>m.id===i;function Ce(m){u=m,n(4,u)}function Te(){N=this.value,n(14,N)}function me(m){O=m,n(7,O)}function le(){C=this.value,n(15,C)}function Ne(m){y=m,n(8,y)}function fe(m){E=m,n(9,E)}function ie(m){h=m,n(10,h)}function Le(m){b=m,n(11,b)}return t.$$.update=()=>{t.$$.dirty[0]&1|t.$$.dirty[1]&32&&o.length>0&&(ee(),(!f||Date.now()-f.getTime()>6e4)&&J()),t.$$.dirty[0]&6&&n(16,l=(()=>{if(!(r!=null&&r.tdocs)||r.tdocs.length===0)return[];let m="",R="";return r.tdocs.map(k=>(k.agenda&&k.agenda.trim()!==""&&(m=k.agenda.trim()),k.topic&&k.topic.trim()!==""&&(R=k.topic.trim()),{...k,inheritedAgenda:m,inheritedTopic:R})).filter(k=>{var M,Y,Z,X,Q,H;switch(d){case"all":return!0;case"available":return((M=k.decision)==null?void 0:M.toLowerCase())==="available";case"reserved":return((Y=k.decision)==null?void 0:Y.toLowerCase())==="reserved";case"approved":return((Z=k.decision)==null?void 0:Z.toLowerCase())==="approved";case"revised":return((X=k.decision)==null?void 0:X.toLowerCase())==="revised";case"postponed":return((Q=k.decision)==null?void 0:Q.toLowerCase())==="postponed";case"withdrawn":return((H=k.decision)==null?void 0:H.toLowerCase())==="withdrawn";case"has-approval":return k.userApproval&&k.userApproval.trim()!=="";case"no-approval":return!k.userApproval||k.userApproval.trim()==="";default:return!0}})})())},[o,r,d,i,u,s,_,O,y,E,h,b,S,F,N,C,l,J,te,T,j,oe,ae,ve,$,ue,ne,Oe,Fe,pe,_e,Se,he,ce,ge,v,f,D,Ce,Te,me,le,Ne,fe,ie,Le]}class Fl extends ut{constructor(e){super(),at(this,e,Ol,dl,it,{},null,[-1,-1])}}new Fl({target:document.getElementById("app")});

    </script>
  </body>
</html>